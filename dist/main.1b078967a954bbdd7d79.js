webpackJsonp([2],{103:function(e,t,n){"use strict";t.a={account:{login:"login",logout:"logout",userinfo:"usrInfo"},arguments:{fetch:"allArgs"},sow:{fetch:"sows",fetchSingle:"sows/",create:"sows",update:"sows/",del:"sows/",copyView:"newSowInfo",copy:"duplicateSow",editPass:"sowPassThroughs/",submit:"submit/sow/",fdRefuse:"fdRefuse/sow/",fdApprove:"fdApprove/sow/",clientRefuse:"clientRefuse/sow/",clientApprove:"clientApprove/sow/",collectPO:"collectPO/sow/",fetchPO:"clientPos",updatePO:"clientPos",getPositionName:"positionName",getPositionBudget:"positionBudget",getSowLevel:"sowLevel",createPosition:"positions",getSowNote:"notes",fetchPosition:"sows/",fetchSinglePosition:"positions/",fetchAllPosition:"positions",updatePositionRemark:"positionRemark/",clientCost:"clientCost",createSowPositions:"sowPositions"},setting:{fetch:"allSettings",companys:{fetch:"companys",fetchSingle:"companys/",create:"companys",update:"companys/",createDetail:"companyDetails",updateDetail:"companyDetails/"},clients:{fetch:"clients",fetchSingle:"clients/",create:"clients",update:"clients/",fetchTeam:"teams",createTeam:"teams",updateTeam:"teams/"},offices:{fetch:"offices",fetchSingle:"offices/",create:"offices",update:"offices/",createDetail:"officeDetails",updateDetail:"officeDetails/"},fordFunctions:{fetch:"fordFunctions",fetchSingle:"fordFunctions/",create:"fordFunctions",disabled:"fordFunctions/",enabled:"fordFunctions/"},currencys:{fetch:"currencys",fetchSingle:"currencys/",create:"currencys",createDetail:"currencyDetails",updateDetail:"currencyDetails/"},salaryTypes:{fetch:"salaryTypes",fetchSingle:"salaryTypes/",create:"salaryTypes",updateIndex:"salaryTypes/index"},stdposs:{fetch:"stdposs",fetchSingle:"stdposs/",create:"stdposs",createDetail:"stdposDetails",updateDetail:"stdposDetails/"},teams:{fetch:"teams"}}}},104:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(24),i=n.n(o),s=n(0),c=n.n(s),u=n(26),l=n.n(u),d=n(1),p=n.n(d),f=n(12),m=n(17),h=f.Select.Option,y={},g=function(e){var t=e.type,n=e.filterAction,a=e.$arguments,o=void 0===a?l.a.Map():a,s=e.style,u=i()(e,["type","filterAction","$arguments","style"]),d=Object.assign({minWidth:y[t]||100},s),p=o.get(t);return n&&p&&(p=n(p)),c.a.createElement(f.Select,r()({},u,{style:d}),p&&p.valueSeq().map(function(e){return c.a.createElement(h,{key:e},e)}))};g.propTypes={type:p.a.string.isRequired,style:p.a.object};var v=function(e){return{$arguments:e.arguments.get("cfg")}};t.a=n.i(m.connect)(v)(g)},1112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={items_per_page:"/ page",jump_to:"Goto",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},e.exports=t.default},128:function(e,t,n){"use strict";function a(){return console.log("logout"),function(e,t){return n.i(d.a)({url:p.a.account.logout,type:"put"}).then(function(t){return e({type:f}),t}).catch(function(e){c.browserHistory.push("/login?next="+location.pathname)}).catch(function(e){return{error:e}})}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1],n=y[t.type];return n?n(e,t):e}n.d(t,"d",function(){return m}),t.a=a,n.d(t,"b",function(){return h}),t.c=r;var o,i=n(9),s=n.n(i),c=n(13),u=n(26),l=n.n(u),d=n(133),p=n(103),f="USER_LOGGED_OUT",m=function(e){return function(t,a){return n.i(d.a)({url:p.a.account.login,type:"put",data:e}).then(function(e){return t({type:"USER_LOGGED_IN",payload:l.a.fromJS(e.obj)})}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},h=function(){return function(e,t){return n.i(d.a)({url:p.a.account.userinfo}).then(function(t){try{e({type:"GET_USER_INFO",payload:l.a.fromJS(t.obj)})}catch(t){console.log(t)}return t}).catch(function(e){return{error:e}})}},y=(o={},s()(o,f,function(){return null}),s()(o,"USER_LOGGED_IN",function(e,t){return t.payload}),s()(o,"GET_USER_INFO",function(e,t){return t.payload}),o),g=null},1282:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(348),o=a(r),i=n(1283),s=a(i);t.default=(0,s.default)(o.default),e.exports=t.default},1283:function(e,t,n){"use strict";function a(e){var t=void 0;return i&&(t=(0,o.default)(e)()),t}t.__esModule=!0,t.default=a;var r=n(1284),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},1284:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(t){return(0,i.default)((0,c.default)(e))(t)}}t.__esModule=!0,t.default=r;var o=n(207),i=a(o),s=n(206),c=a(s);e.exports=t.default},129:function(e,t,n){"use strict";n.d(t,"d",function(){return x}),n.d(t,"c",function(){return T}),n.d(t,"a",function(){return P}),n.d(t,"b",function(){return k});var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(13),y=n(12),g=n(14),v=n(47),b=n(33),I=n(104),E=n(69),w=n(30),S=g.a.setting,C=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"render",value:function(){return m.a.createElement(v.e,r()({},this.props,{className:"input-underline"}))}}]),t}(m.a.PureComponent),x=(function(e){function t(){return i()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p()(t,e),c()(t,[{key:"render",value:function(){return m.a.createElement(E.a,r()({},this.props,{type:S.teams.path,mode:"combobox"}))}}])}(m.a.PureComponent),[{dataIndex:"keyWord",title:"Key word",match:"include",target:["id","contact","address"],component:m.a.createElement(y.Input,{size:"default"})}]),T=[{dataIndex:"id",title:"Clients",width:120,render:function(e,t){return m.a.createElement(h.Link,{to:"/"+S.path+"/"+S.clients.path+"/"+t.get("id")},t.get("id"))}},{dataIndex:"type"},{dataIndex:"team",className:"full-td",width:150,render:function(e,t){var n=t.get("teams");if(n){var a=n.valueSeq().map(function(e){return m.a.createElement("div",{className:"table-inner-td",key:e.get("id")},e.get("name"))});return m.a.createElement("div",{className:"table-inner-tr"},a)}}},{dataIndex:"incentiveRate",showTitleTip:!0,render:function(e,t){return b.b.percent(t.get("incentiveRate"))}},{dataIndex:"taxDiscountRate",showTitleTip:!0,render:function(e,t){return b.b.percent(t.get("taxDiscountRate"))}},{dataIndex:"contact"},{dataIndex:"telephone"},{dataIndex:"address",width:150},{dataIndex:"email"}],P=[{dataIndex:"id",required:!0},{dataIndex:"contact"},{dataIndex:"telephone"},{dataIndex:"address"},{dataIndex:"email"},{dataIndex:"type",Component:function(e){return function(t){function n(){return i()(this,n),l()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return p()(n,t),c()(n,[{key:"render",value:function(){return m.a.createElement(I.a,r()({},this.props,{type:e,className:"select-underline"}))}}]),n}(m.a.PureComponent)}(w.e.clientType)},{dataIndex:"incentiveRate",Component:C},{dataIndex:"taxDiscountRate",Component:C}],k=[{width:200,dataIndex:"name",title:"Team"},{width:200,dataIndex:"brief",Component:v.f}]},130:function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return h});var a=n(0),r=n.n(a),o=n(12),i=n(47),s=n(13),c=n(14),u=n(33),l=n(30),d=c.a.setting,p=[{dataIndex:"keyWord",title:"Key word",match:"include",target:["id","name","contact","address"],component:r.a.createElement(o.Input,{size:"default"})}],f=[{dataIndex:"id",title:"Company",width:120,render:function(e,t){return r.a.createElement(s.Link,{to:"/"+d.path+"/"+d.company.path+"/"+t.get("id")},t.get("id"))}},{dataIndex:"name",title:"Full Name",width:150},{dataIndex:"year",render:function(e,t){return t.getIn(["companyDetails",0,"year"])},filterMultiple:!1,filterIcon:r.a.createElement(o.Icon,{type:"search"}),filters:l.i.year},{dataIndex:"rate",render:function(e,t){return u.b.percent(t.getIn(["companyDetails",0,"rate"]))}},{dataIndex:"min",render:function(e,t){return u.b.money(t.getIn(["companyDetails",0,"min"]))}},{dataIndex:"max",render:function(e,t){return u.b.money(t.getIn(["companyDetails",0,"max"]))}},{dataIndex:"contact"},{dataIndex:"telephone"},{dataIndex:"address"},{dataIndex:"email"}],m=[{dataIndex:"id",required:!0},{dataIndex:"name",required:!0,title:"Full Name"},{dataIndex:"contact"},{dataIndex:"telephone"},{dataIndex:"address"},{dataIndex:"email"}],h=[{dataIndex:"year",width:120,Component:i.a},{dataIndex:"rate",Component:i.e},{width:160,dataIndex:"min",Component:i.c},{width:160,dataIndex:"max",Component:i.c}]},131:function(e,t,n){"use strict";n.d(t,"d",function(){return C}),n.d(t,"c",function(){return x}),n.d(t,"a",function(){return T}),n.d(t,"b",function(){return P});var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(12),y=n(47),g=n(13),v=n(14),b=n(33),I=n(30),E=n(69),w=v.a.setting,S=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"render",value:function(){return m.a.createElement(E.a,r()({},this.props,{type:w.currency.path,className:"select-underline"}))}}]),t}(m.a.PureComponent),C=[{dataIndex:"keyWord",title:"Key word",match:"include",target:["id","name","contact","address"],component:m.a.createElement(h.Input,{size:"default"})}],x=[{dataIndex:"id",title:"Office",width:160,render:function(e,t){return m.a.createElement(g.Link,{to:"/"+w.path+"/"+w.offices.path+"/"+t.get("id")},t.get("id"))}},{dataIndex:"currencyId"},{dataIndex:"year",render:function(e,t){return t.getIn(["officeDetails",0,"year"])},filterMultiple:!1,filterIcon:m.a.createElement(h.Icon,{type:"search"}),filters:I.i.year},{dataIndex:"mulRate",render:function(e,t){return t.getIn(["officeDetails",0,"mulRate"])}},{dataIndex:"dictRate",render:function(e,t){return t.getIn(["officeDetails",0,"dictRate"])}},{dataIndex:"incRate",render:function(e,t){return b.b.percent(t.getIn(["officeDetails",0,"incRate"]))}},{dataIndex:"benRate",render:function(e,t){return b.b.percent(t.getIn(["officeDetails",0,"benRate"]))}},{dataIndex:"overRate",render:function(e,t){return b.b.percent(t.getIn(["officeDetails",0,"overRate"]))}},{dataIndex:"mkpRate",render:function(e,t){return b.b.percent(t.getIn(["officeDetails",0,"mkpRate"]))}},{dataIndex:"taxRate",render:function(e,t){return b.b.percent(t.getIn(["officeDetails",0,"taxRate"]))}},{dataIndex:"invRate",render:function(e,t){return b.b.percent(t.getIn(["officeDetails",0,"invRate"]))}},{dataIndex:"divRate",render:function(e,t){return t.getIn(["officeDetails",0,"divRate"])}},{dataIndex:"contact"},{dataIndex:"telephone"},{dataIndex:"address",width:160},{dataIndex:"email"}],T=[{dataIndex:"id",required:!0},{dataIndex:"name",required:!0,title:"Full Name"},{dataIndex:"contact"},{dataIndex:"telephone"},{dataIndex:"address"},{dataIndex:"email"},{dataIndex:"currencyId",Component:S}],P=[{dataIndex:"year",Component:y.a},{dataIndex:"mulRate",Component:y.d},{dataIndex:"dictRate",Component:y.d,showTitleTip:!1,width:120},{dataIndex:"incRate",Component:y.e,showTitleTip:!1},{dataIndex:"benRate",Component:y.e,showTitleTip:!1},{dataIndex:"overRate",Component:y.e,showTitleTip:!1},{dataIndex:"mkpRate",Component:y.e},{dataIndex:"taxRate",Component:y.e},{dataIndex:"invRate",Component:y.e},{dataIndex:"divRate",Component:y.d,showTitleTip:!1}]},1317:function(e,t,n){e.exports=n(572)},132:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(123),r=n(295),o=n(294),i=n(23),s=function(e){return n.i(a.combineReducers)(Object.assign({location:r.a,setting:i.a,arguments:o.a},e))},c=function(e,t){var n=t.key,a=t.reducer;Object.hasOwnProperty.call(e.asyncReducers,n)||(e.asyncReducers[n]=a,e.replaceReducer(s(e.asyncReducers)))};t.b=s},133:function(e,t,n){"use strict";function a(e){if(!e.ok){var t=new Error(e.statusText,-1);throw t.response=e,t}return e}function r(e){return e.json()}function o(e){if("success"!=e.status){var t=new Error(e.msg,e.code,e.flag);throw t.code=e.code,t}return e}function i(e){var t={host:l.d,type:"get"};null!==e&&"object"===(void 0===e?"undefined":c()(e))?e=Object.assign({},t,e):"string"==typeof e&&(e=Object.assign({},t,{url:e}));var n=null;!1!==e.contentType&&(n="get"===e.type.toLowerCase()?{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"}:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8"});var i=void 0,s=""+e.host+e.url;switch(e.type.toLowerCase()){case"post":case"put":case"delete":var d={mode:"cors",cache:"default",method:e.type,credentials:"include"};n?(d.headers=n,d.body=JSON.stringify(e.data)):d.body=e.data,i=fetch(s,d);break;case"get":var p="";e.data&&(p=u.stringify(e.data))&&(p=s.indexOf("?")<0?"?"+p:"&"+p);var f={method:e.type,credentials:"include"};n&&(f.headers=f),i=fetch(s+p,f)}return i.then(a).then(r).then(o)}t.a=i;var s=n(29),c=n.n(s),u=n(952),l=(n.n(u),n(30))},14:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a={home:{title:"Home",path:"home"},sow:{title:"SOW Summary",path:"sow"},setting:{title:"Setting",path:"setting",company:{title:"Companys",path:"companys",create:{title:"Create",path:"create"}},clients:{title:"Clients",path:"clients",create:{title:"Create",path:"create"}},currency:{title:"Currency",path:"currency",create:{title:"Create",path:"create"}},fordFunctions:{title:"Ford Functions",path:"fordFunctions",create:{title:"Create",path:"create"}},offices:{title:"Offices",path:"offices",create:{title:"Create",path:"create"}},salaryTypes:{title:"SalaryTypes",path:"salaryTypes",create:{title:"Create",path:"create"}},stdPoss:{title:"Standard Position",path:"stdPoss",create:{title:"Create",path:"create"}},teams:{path:"teams"}}},r=[{key:"home",name:"Home",icon:"home",role:["finance","chief","maintainer","hr","admin"],show:!0},{key:"sow",name:"SOW",icon:"appstore-o",role:["finance","chief","maintainer","hr","admin"],show:!0},{key:"setting",name:"Setting",icon:"setting",role:["finance","chief","maintainer","hr","admin"],show:!0,children:[{key:a.setting.company.path,name:a.setting.company.title,role:["finance","chief","maintainer","hr","admin"],show:!0},{key:a.setting.clients.path,name:a.setting.clients.title,show:!0},{key:a.setting.offices.path,name:a.setting.offices.title,show:!0},{key:a.setting.fordFunctions.path,name:a.setting.fordFunctions.title,show:!0},{key:a.setting.stdPoss.path,name:a.setting.stdPoss.title,show:!0},{key:a.setting.salaryTypes.path,name:a.setting.salaryTypes.title,show:!0},{key:a.setting.currency.path,name:a.setting.currency.title,show:!0}]}]},167:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(0),p=n.n(d),f=n(12),m=n(893),h=(n.n(m),f.Form.Item),y=function(e){function t(){return r()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l()(t,e),i()(t,[{key:"render",value:function(){var e=this.props,t=e.columns,n=e.form.getFieldDecorator,a=e.labelCol,r=e.wrapperCol,o=e.layout;return p.a.createElement(f.Form,{layout:o,className:"simple-form"},t.map(function(e){var t=e.get("Component"),o={};if(e.get("option")&&(o=e.get("option")),!0===e.get("required")){var i={type:"string",message:"Missing "+e.get("title"),required:!0};"number"==e.get("type")&&(i.type="number",i.transform=function(e){return parseFloat(e)}),o.rules?o.rules=o.rules.concat(i):o.rules=[i]}var s={};return e.get("width")&&(s.width=e.get("width")),p.a.createElement(h,{style:s,key:e.get("dataIndex"),label:e.get("title"),labelCol:e.get("labelCol")||a,wrapperCol:e.get("wrapperCol")||r},n(e.get("dataIndex"),o)(t?p.a.createElement(t,{key:e.get("dataIndex"),disabled:e.get("disabled")}):p.a.createElement(f.Input,{className:"input-underline",disabled:e.get("disabled")})))}))}}]),t}(p.a.PureComponent);y.defaultProps={columns:[],labelCol:{span:8},wrapperCol:{span:16}},t.a=f.Form.create({onValuesChange:function(e,t){return e.onValuesChange&&e.onValuesChange(t)}})(y)},168:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f});var a=n(0),r=n.n(a),o=n(12),i=n(47),s=n(13),c=n(14),u=c.a.setting,l=[{dataIndex:"keyWord",title:"Key word",match:"include",target:["id","name","contact","address"],component:r.a.createElement(o.Input,{size:"default"})}],d=[{dataIndex:"id",title:"Currency",width:160,render:function(e,t){return r.a.createElement(s.Link,{to:"/"+u.path+"/"+u.currency.path+"/"+t.get("id")},t.get("id"))}},{dataIndex:"country"},{dataIndex:"year",render:function(e,t){return t.getIn(["currencyDetails",0,"year"])}},{dataIndex:"constantRate",width:125,render:function(e,t){return t.getIn(["currencyDetails",0,"constantRateToUSD"])}},{dataIndex:"fordRate",render:function(e,t){return t.getIn(["currencyDetails",0,"fordRateToUSD"])}}],p=[{dataIndex:"id",required:!0},{dataIndex:"country"}],f=[{dataIndex:"year",Component:i.a,disabled:function(e){return!!e.id}},{dataIndex:"constantRate",Component:i.d,width:140},{dataIndex:"fordRate",Component:i.d}]},169:function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"c",function(){return I}),n.d(t,"a",function(){return E});var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(12),y=n(104),g=n(30),v=function(e){return function(t){function n(){return i()(this,n),l()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return p()(n,t),c()(n,[{key:"render",value:function(){return m.a.createElement(y.a,r()({},this.props,{type:e,className:"select-underline"}))}}]),n}(m.a.PureComponent)},b=[{dataIndex:"keyWord",title:"Key word",match:"include",target:["id"],component:m.a.createElement(h.Input,{size:"default"})}],I=[{dataIndex:"index"},{dataIndex:"id",title:"SalaryType",width:160},{dataIndex:"category"},{dataIndex:"location"},{dataIndex:"distributeType",width:130}],E=[{dataIndex:"id",required:!0},{dataIndex:"category",Component:v(g.e.categorySalary)},{dataIndex:"distributeType",Component:v(g.e.distributeType)},{dataIndex:"location",Component:v(g.e.location)}]},170:function(e,t,n){"use strict";n.d(t,"d",function(){return P}),n.d(t,"c",function(){return R}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return O});var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(12),y=n(47),g=n(13),v=n(14),b=n(69),I=n(104),E=n(30),w=n(33),S=n(286),C=v.a.setting,x=function(e,t){return function(n){function a(){return i()(this,a),l()(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return p()(a,n),c()(a,[{key:"render",value:function(){return m.a.createElement(I.a,r()({},this.props,{type:e,className:"select-underline"},t))}}]),a}(m.a.PureComponent)},T=function(e){return function(t){function n(){return i()(this,n),l()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return p()(n,t),c()(n,[{key:"render",value:function(){return m.a.createElement(b.a,r()({},this.props,{type:e,className:"select-underline"}))}}]),n}(m.a.PureComponent)},P=[{dataIndex:"keyWord",title:"Key word",match:"include",target:["id","name","contact","address"],component:m.a.createElement(h.Input,{size:"default"})}],k=function(e){return function(t,n){var a=n.get("stdPosDetails").find(function(t){return t.get(E.h.field)===E.h[e]});if(a){var r=a.get("stdPosPrices"),o=0,i=m.a.createElement("table",{className:"popover-table"},m.a.createElement("tbody",null,r.valueSeq().map(function(e){return o+=e.get("amount"),m.a.createElement("tr",{key:e.get("salaryTypeId")},m.a.createElement("td",{className:"title"},e.get("salaryTypeId")),m.a.createElement("td",{className:"amount"},w.b.money(e.get("amount"))))})));return m.a.createElement(h.Popover,{placement:"bottomRight",content:i},m.a.createElement("span",{className:"has-popover"},w.b.money(o)))}}},R=[{dataIndex:"officeId",width:150,render:function(e,t){return m.a.createElement(g.Link,{to:"/"+C.path+"/"+C.offices.path+"/"+t.get("officeId")},t.get("officeId"))}},{dataIndex:"name",title:"Standard Position",width:260,render:function(e,t){return m.a.createElement(g.Link,{to:"/"+C.path+"/"+C.stdPoss.path+"/"+t.get("name")},t.get("name"))}},{dataIndex:"teamId",width:160,render:function(e,t){return m.a.createElement(S.a,{type:C.teams.path,value:t.get("teamId"),targetField:"name"})}},{dataIndex:"location",title:"Local/Expat"},{dataIndex:"year",width:70,render:function(e,t){return t.getIn(["stdPosDetails",0,"year"])},filterMultiple:!1,filterIcon:m.a.createElement(h.Icon,{type:"search"}),filters:E.i.year},{dataIndex:"currencyId"},{dataIndex:"low",type:"money",render:k("low")},{dataIndex:"middle",type:"money",render:k("middle")},{dataIndex:"high",type:"money",render:k("high")}],_=[{dataIndex:"name",required:!0},{dataIndex:"teamId",Component:T(C.teams.path)},{dataIndex:"location",Component:x(E.e.location,{filterAction:function(e){return e.filter(function(e){return"Common"!==e})}}),title:"Local/Expat"},{dataIndex:"officeId",Component:T(C.offices.path)},{dataIndex:"currencyId",Component:T(C.currency.path)}],O=[{dataIndex:"skillLevel",disabled:function(e){return!!e.id},Component:x(E.e.skillLevel)},{dataIndex:"year",Component:y.a,disabled:function(e){return!!e.id}}]},20:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(0),c=n.n(s),u=n(12),l=n(26),d=n.n(l),p=n(694),f=n(33),m=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r()(this,e),this.updateForm=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.formData=t.columns.map(function(t){if("form"!==t.hideIn)return e.columnsDate.get(t.dataIndex)||console.log("找不到默认columns=",t.dataIndex),e.columnDefalut.merge(e.columnsDate.get(t.dataIndex),t,n[t.dataIndex])}).filter(function(e){return e}),t.formData},this.updateTable=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.tableData=t.columns.map(function(t){if("table"!==t.hideIn){var a=e.columnsDate.get(t.dataIndex);a||console.log("找不到默认columns=",t.dataIndex);var r=e.columnDefalut.merge(a,t,n[t.dataIndex]);if(void 0===r.get("width")&&(r=r.set("width",100)),"string"==typeof r.get("title")){var o={maxWidth:r.get("width")-17};r=r.update("title",function(e){var t=c.a.createElement("div",{className:"table-title",style:o},e);return!0===r.get("showTitleTip")?c.a.createElement(u.Tooltip,{title:e},t):t})}return"number"===r.get("type")?r=r.set("className","number"):"money"===r.get("type")?(r=r.set("className","money"),r.get("render")||(r=r.set("render",function(e){return f.b.money(e)}))):"percent"===r.get("type")&&(r=r.set("className","percent"),r.get("render")||(r=r.set("render",function(e){return f.b.percent(e)}))),r.toJS()}}).filter(function(e){return e}),t.tableData},this.columns=n}return i()(e,[{key:"form",get:function(){return this.formData||this.updateForm(),this.formData}},{key:"table",get:function(){return this.tableData||this.updateTable(),this.tableData}}]),e}();m.columnsDate=d.a.fromJS(p.a),m.columnDefalut=d.a.fromJS(p.b),t.a=m},23:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments[1],n=te[t.type];return n?n(e,t):e}n.d(t,"L",function(){return v}),n.d(t,"G",function(){return b}),n.d(t,"J",function(){return I}),n.d(t,"K",function(){return E}),n.d(t,"F",function(){return w}),n.d(t,"I",function(){return S}),n.d(t,"H",function(){return C}),n.d(t,"z",function(){return x}),n.d(t,"A",function(){return T}),n.d(t,"D",function(){return P}),n.d(t,"E",function(){return k}),n.d(t,"y",function(){return R}),n.d(t,"C",function(){return _}),n.d(t,"B",function(){return O}),n.d(t,"t",function(){return F}),n.d(t,"w",function(){return N}),n.d(t,"x",function(){return D}),n.d(t,"s",function(){return j}),n.d(t,"v",function(){return M}),n.d(t,"u",function(){return L}),n.d(t,"p",function(){return A}),n.d(t,"o",function(){return $}),n.d(t,"r",function(){return H}),n.d(t,"q",function(){return V}),n.d(t,"g",function(){return q}),n.d(t,"j",function(){return B}),n.d(t,"k",function(){return U}),n.d(t,"i",function(){return Y}),n.d(t,"h",function(){return z}),n.d(t,"c",function(){return G}),n.d(t,"b",function(){return W}),n.d(t,"f",function(){return J}),n.d(t,"e",function(){return K}),n.d(t,"d",function(){return X}),n.d(t,"m",function(){return Q}),n.d(t,"l",function(){return Z}),n.d(t,"n",function(){return ee}),t.a=a;var r,o,i=n(24),s=n.n(i),c=n(9),u=n.n(c),l=n(26),d=n.n(l),p=n(133),f=n(72),m=n(103),h=n(14),y=h.a.setting,g=(r={},u()(r,y.company.path,"companys"),u()(r,y.clients.path,"clients"),u()(r,y.currency.path,"currencys"),u()(r,y.fordFunctions.path,"fordFunctions"),u()(r,y.offices.path,"offices"),u()(r,y.salaryTypes.path,"salaryTypes"),u()(r,y.stdPoss.path,"stdPoss"),u()(r,y.teams.path,"teams"),u()(r,"titles","titles"),r),v=function(){return function(e){return n.i(p.a)({url:m.a.setting.fetch}).then(function(t){var a=t.obj,r={};for(var o in g){var i=g[o];a[i]&&(r[o]=n.i(f.a)()(a[i].rows))}return e({type:"FETCH_SETTING_ALL",payload:d.a.fromJS(r)}),t}).catch(function(t){return e({type:"FETCH_ERROR",error:t})})}},b=function(e){return function(t){return n.i(p.a)({url:m.a.setting.companys.fetch,data:e}).then(function(e){return t({type:"FETCH_SETTING_COMPANYS",payload:d.a.fromJS(n.i(f.a)()(e.objs))}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},I=function(e){return n.i(p.a)({url:m.a.setting.companys.fetchSingle+e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},E=function(e){return function(t){return n.i(p.a)({url:m.a.setting.companys.create,type:"post",data:e}).then(function(e){return t(b()),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},w=function(e){var t=e.id,a=s()(e,["id"]);return function(e){return n.i(p.a)({url:m.a.setting.companys.update+t,type:"put",data:a}).then(function(t){return e(b()),t}).catch(function(t){return e({type:"FETCH_ERROR",error:t})})}},S=function(e){return n.i(p.a)({url:m.a.setting.companys.createDetail,type:"post",data:e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},C=function(e){var t=e.id,a=s()(e,["id"]);return n.i(p.a)({url:m.a.setting.companys.updateDetail+t,type:"put",data:a}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},x=function(e){return function(t){return n.i(p.a)({url:m.a.setting.clients.fetch,data:e}).then(function(e){return t({type:"FETCH_SETTING_CLIENTS",payload:d.a.fromJS(n.i(f.a)()(e.objs))}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},T=function(e){return function(t){return n.i(p.a)({url:m.a.setting.teams.fetch,data:e}).then(function(e){return t({type:"FETCH_SETTING_TEAMS",payload:d.a.fromJS(n.i(f.a)()(e.objs))}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},P=function(e){return n.i(p.a)({url:m.a.setting.clients.fetchSingle+e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},k=function(e){return function(t){return n.i(p.a)({url:m.a.setting.clients.create,type:"post",data:e}).then(function(e){return t(x()),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},R=function(e){var t=e.id,a=s()(e,["id"]);return function(e){return n.i(p.a)({url:m.a.setting.clients.update+t,type:"put",data:a}).then(function(t){return e(x()),t}).catch(function(t){return e({type:"FETCH_ERROR",error:t})})}},_=function(e){return n.i(p.a)({url:m.a.setting.clients.createTeam,type:"post",data:e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},O=function(e){var t=e.id,a=s()(e,["id"]);return n.i(p.a)({url:m.a.setting.clients.updateTeam+t,type:"put",data:a}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},F=function(e){return function(t){return n.i(p.a)({url:m.a.setting.offices.fetch,data:e}).then(function(e){return t({type:"FETCH_SETTING_OFFICES",payload:d.a.fromJS(n.i(f.a)()(e.objs))}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},N=function(e){return n.i(p.a)({url:m.a.setting.offices.fetchSingle+e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},D=function(e){return function(t){return n.i(p.a)({url:m.a.setting.offices.create,type:"post",data:e}).then(function(e){return t(F()),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},j=function(e){var t=e.id,a=s()(e,["id"]);return function(e){return n.i(p.a)({url:m.a.setting.offices.update+t,type:"put",data:a}).then(function(t){return e(F()),t}).catch(function(t){return e({type:"FETCH_ERROR",error:t})})}},M=function(e){return n.i(p.a)({url:m.a.setting.offices.createDetail,type:"post",data:e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},L=function(e){var t=e.id,a=s()(e,["id"]);return n.i(p.a)({url:m.a.setting.offices.updateDetail+t,type:"put",data:a}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},A=function(e){return function(t){return n.i(p.a)({url:m.a.setting.fordFunctions.fetch,data:e}).then(function(e){return t({type:"FETCH_SETTING_FORD_FUNCTIONS",payload:d.a.fromJS(n.i(f.a)()(e.objs))}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},$=function(e){return function(t){return n.i(p.a)({url:m.a.setting.fordFunctions.create,type:"post",data:e}).then(function(e){return t(A()),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},H=function(e){return function(t){return n.i(p.a)({url:m.a.setting.fordFunctions.disabled+e,type:"delete"}).then(function(n){return t({type:"UPDATE_SETTING_FORD_FUNCTIONS_STATUS",payload:{id:e,status:0}}),n.obj}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},V=function(e){return function(t){return n.i(p.a)({url:m.a.setting.fordFunctions.enabled+e,type:"put"}).then(function(n){return t({type:"UPDATE_SETTING_FORD_FUNCTIONS_STATUS",payload:{id:e,status:1}}),n.obj}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},q=function(e){return function(t){return n.i(p.a)({url:m.a.setting.currencys.fetch,data:e}).then(function(e){return t({type:"FETCH_SETTING_CURRENCY",payload:d.a.fromJS(n.i(f.a)()(e.objs))}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},B=function(e){return n.i(p.a)({url:m.a.setting.currencys.fetchSingle+e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},U=function(e){return function(t){return n.i(p.a)({url:m.a.setting.currencys.create,type:"post",data:e}).then(function(e){return t(q()),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},Y=function(e){return n.i(p.a)({url:m.a.setting.currencys.createDetail,type:"post",data:e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},z=function(e){var t=e.id,a=s()(e,["id"]);return n.i(p.a)({url:m.a.setting.currencys.updateDetail+t,type:"put",data:a}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},G=function(e){return function(t){return n.i(p.a)({url:m.a.setting.stdposs.fetch,data:e}).then(function(e){return t({type:"FETCH_SETTING_STD_POSS",payload:d.a.fromJS(n.i(f.a)()(e.objs))}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},W=function(e){return n.i(p.a)({url:m.a.setting.stdposs.fetchSingle+e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},J=function(e){return function(t){return n.i(p.a)({url:m.a.setting.stdposs.create,type:"post",data:e}).then(function(e){return t(G()),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},K=function(e){return n.i(p.a)({url:m.a.setting.stdposs.createDetail,type:"post",data:e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},X=function(e){var t=e.id,a=s()(e,["id"]);return n.i(p.a)({url:m.a.setting.stdposs.updateDetail+t,type:"put",data:a}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},Q=function(e){return function(t){return n.i(p.a)({url:m.a.setting.salaryTypes.fetch,data:e}).then(function(e){return t({type:"FETCH_SETTING_SALARY_TYPES",payload:d.a.fromJS(n.i(f.a)()(e.objs))}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},Z=function(e){return function(t){return n.i(p.a)({url:m.a.setting.salaryTypes.create,type:"post",data:e}).then(function(e){return t(Q()),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},ee=function(e){return function(t,a){var r=a()[y.path].get(y.salaryTypes.path),o="up"===e.type?e.index-1:e.index+1,i=r.find(function(e){return e.get("index")==o}),s=i&&i.get("id"),c=[e.id,s];return n.i(p.a)({url:m.a.setting.salaryTypes.updateIndex,type:"put",data:{ids:c}}).then(function(e){return t({type:"UPDATE_SETTING_SALARY_TYPES_INDEX",payload:c}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},te=(o={},u()(o,"FETCH_SETTING_ALL",function(e,t){return e.merge(t.payload)}),u()(o,"FETCH_SETTING_COMPANYS",function(e,t){return e.set(y.company.path,t.payload)}),u()(o,"FETCH_SETTING_CLIENTS",function(e,t){return e.set(y.clients.path,t.payload)}),u()(o,"FETCH_SETTING_TEAMS",function(e,t){return e.set(y.teams.path,t.payload)}),u()(o,"FETCH_SETTING_OFFICES",function(e,t){return e.set(y.offices.path,t.payload)}),u()(o,"FETCH_SETTING_FORD_FUNCTIONS",function(e,t){return e.set(y.fordFunctions.path,t.payload)}),u()(o,"FETCH_SETTING_SALARY_TYPES",function(e,t){return e.set(y.salaryTypes.path,t.payload)}),u()(o,"FETCH_SETTING_CURRENCY",function(e,t){return e.set(y.currency.path,t.payload)}),u()(o,"FETCH_SETTING_STD_POSS",function(e,t){return e.set(y.stdPoss.path,t.payload)}),u()(o,"UPDATE_SETTING_FORD_FUNCTIONS_STATUS",function(e,t){return e.update(y.fordFunctions.path,function(e){return e.setIn([t.payload.id,"status"],t.payload.status)})}),u()(o,"UPDATE_SETTING_SALARY_TYPES_INDEX",function(e,t){return e.update(y.salaryTypes.path,function(e){var n=e.getIn([t.payload[0],"index"]),a=e.getIn([t.payload[1],"index"]);return e.setIn([t.payload[0],"index"],a).setIn([t.payload[1],"index"],n)})}),o),ne=d.a.Map()},282:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=a(r),i=n(969),s=a(i),c=n(283),u=a(c),l={lang:(0,o.default)({placeholder:"Select date",rangePlaceholder:["Start date","End date"]},s.default),timePickerLocale:(0,o.default)({},u.default)};t.default=l,e.exports=t.default},283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={placeholder:"Select time"};t.default=a,e.exports=t.default},285:function(e,t,n){"use strict";function a(e){var t=function(t){function n(){var e,t,a,r;u()(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=a=f()(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),a.state={searchValue:null},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.setState({searchValue:t})})},r=t,f()(a,r)}return h()(n,t),d()(n,[{key:"render",value:function(){var t=this.props,n=t.form.getFieldDecorator,a=t.searchColumns,r=s()(t,["form","searchColumns"]),i=this.state.searchValue,c=this.props.dataSource;if(i){var u={};for(var l in i)!function(e){var t={value:i[e]};a.some(function(n){if(n.dataIndex===e)return t.target=n.target,t.match=n.match,!0}),u[e]=t}(l);c=c.filter(function(e){return Object.keys(u).every(function(t){var n=u[t].target||[t];if("include"===u[t].match){if(u[t].value){var a=new RegExp(u[t].value,"gi");return n.some(function(t){return a.test(e.get(t))})}return!0}if("equal"===u[t].match)return"all"===u[t].value||n.some(function(n){return e.get(n)===u[t].value})})})}return g.a.createElement("div",{className:"flex-box"},g.a.createElement("div",{className:"flex-header"},g.a.createElement(v.Form,{layout:"inline",onSubmit:this.handleSubmit},a.map(function(e){return g.a.createElement(w,{label:e.title,key:e.dataIndex},n(e.dataIndex,{initialValue:e.initialValue})(e.component))}),g.a.createElement(w,null,g.a.createElement(v.Button,{size:"small",htmlType:"submit"},"Search")),g.a.createElement(w,null,"Total of ",g.a.createElement("span",{className:"highlight"},c.size)))),g.a.createElement("div",{className:"flex-content"},g.a.createElement(e,o()({},r,{dataSource:c}))))}}]),n}(g.a.PureComponent);return t.propTypes={form:I.a.object},v.Form.create()(t)}t.a=a;var r=n(2),o=n.n(r),i=n(24),s=n.n(i),c=n(3),u=n.n(c),l=n(6),d=n.n(l),p=n(5),f=n.n(p),m=n(4),h=n.n(m),y=n(0),g=n.n(y),v=n(12),b=n(1),I=n.n(b),E=n(892),w=(n.n(E),v.Form.Item)},286:function(e,t,n){"use strict";var a=n(9),r=n.n(a),o=n(0),i=n.n(o),s=n(17),c=n(1),u=n.n(c),l=function(e,t){var n=t.type,a=t.fromField,o=void 0===a?"id":a,i=t.value,s=r()({},n,e.setting.get(n));return"id"==o?s.$item=e.setting.getIn([n,i]):s[n]&&(s.$item=s[n].find(function(e){return e.get(o)===i})),s},d=function(e){var t=e.$item,n=e.targetField,a=void 0===n?"name":n;return t&&t.get(a)?i.a.createElement("span",null,t.get(a)):null},p=function(e){return n.i(s.connect)(l)(e)}(d);p.propTypes={type:u.a.string.isRequired,value:u.a.string,targetField:u.a.string,fromField:u.a.string},t.a=p},287:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(70),c=n(20),u=n(129),l=new c.a(u.a);t.a=function(e){return i.a.createElement(s.a,r()({columns:l.form},e))}},288:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(70),c=n(20),u=n(130),l=new c.a(u.a);t.a=function(e){return i.a.createElement(s.a,r()({columns:l.form},e))}},289:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(70),c=n(20),u=n(168),l=new c.a(u.b);t.a=function(e){return i.a.createElement(s.a,r()({columns:l.form},e))}},290:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var a=n(0),r=n.n(a),o=n(12),i=[{dataIndex:"keyWord",title:"Key word",match:"include",target:["id"],component:r.a.createElement(o.Input,{size:"default"})}],s=[{dataIndex:"id",title:"FordFunction",width:200},{dataIndex:"operation",title:"Enabled",width:300}],c=[{dataIndex:"id",required:!0}]},291:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(70),c=n(20),u=n(131),l=new c.a(u.a);t.a=function(e){return i.a.createElement(s.a,r()({columns:l.form},e))}},292:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(70),c=n(20),u=n(170),l=new c.a(u.b);t.a=function(e){return i.a.createElement(s.a,r()({columns:l.form},e))}},293:function(e,t,n){"use strict";n.d(t,"a",function(){return F});var a=n(9),r=n.n(a),o=n(2),i=n.n(o),s=n(3),c=n.n(s),u=n(6),l=n.n(u),d=n(5),p=n.n(d),f=n(4),m=n.n(f),h=n(0),y=n.n(h),g=n(12),v=n(1),b=n.n(v),I=n(34),E=n.n(I),w=n(44),S=n(30),C=n(69),x=n(104),T=n(736),P=n(14),k=n(336),R=(n.n(k),P.a.setting),_=g.Form.Item,O={labelCol:{span:9},wrapperCol:{span:15}},F={HCCategory:"HCCategory",companyId:"companyId",currencyId:"currencyId",expectStaffId:"expectStaffId",fordFunctionId:"fordFunctionId",location:"location",name:"name",officeId:"officeId",remark:"remark",skillLevel:"skillLevel",sowLevel:"sowLevel",stdPosId:"stdPosId",teamId:"teamId",titleId:"titleId",budget:"budget",stdPosDetailId:"stdPosDetailId"},N=function(e){return function(t){function n(){return c()(this,n),p()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return m()(n,t),l()(n,[{key:"render",value:function(){return y.a.createElement(C.a,i()({},this.props,{type:e,className:"select-underline"}))}}]),n}(y.a.PureComponent)},D=function(e){return function(t){function n(){return c()(this,n),p()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return m()(n,t),l()(n,[{key:"render",value:function(){return y.a.createElement(x.a,i()({},this.props,{type:e,className:"select-underline"}))}}]),n}(y.a.PureComponent)},j=N(R.offices.path),M=N(R.teams.path),L=N(R.stdPoss.path),A=N("titles"),$=N(R.company.path),H=N(R.fordFunctions.path),V=D(S.e.location),q=D(S.e.skillLevel),B=function(e){function t(){var e,a,o,i;c()(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return a=o=p()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.resetStdposs=function(){return o.props.form.resetFields([F.stdPosId,F.budget])},o.onTeamChange=function(e){var t=o.props.$setting.getIn([R.teams.path,e,"brief"]);n.i(w.l)({year:o.props.sow.year,brief:t}).then(function(e){e.error||o.props.form.setFieldsValue({name:e.obj})}),o.resetStdposs()},o.onOfficeChange=function(e){var t=o.props.$setting.getIn([R.offices.path,e,"currencyId"]);o.props.form.setFieldsValue({currencyId:t}),o.resetStdposs()},o.onLocationChange=function(){return o.resetStdposs()},o.onStdPossChange=function(e){return o.getSalary(Object.assign({},o.props.form.getFieldsValue(),r()({},F.stdPosId,e)))},o.onChangeSkillLevel=function(e){return o.getSalary(Object.assign({},o.props.form.getFieldsValue(),r()({},F.skillLevel,e)))},o.getSalary=function(e){if(e[F.stdPosId]&&e[F.skillLevel]){var t=o.props.$setting.getIn([R.stdPoss.path,e[F.stdPosId],"stdPosDetails"]).find(function(t){return t.get(F.skillLevel)===e[F.skillLevel]}).get("id");o.props.form.setFieldsValue({stdPosDetailId:t}),n.i(w.m)({stdPosDetailId:t}).then(function(e){if(!e.error){var t=e.obj;o.props.form.setFieldsValue({budget:e.obj}),o.onBudgetChange(t)}})}},o.onBudgetChange=function(e){var t=o.props.form.getFieldsValue(),a=e.directLabor,i=t.currencyId;a&&i&&n.i(w.n)({directLabor:a,currencyId:i,year:o.props.sow.year}).then(function(e){e.error||o.props.form.setFieldsValue(r()({},F.sowLevel,e.obj))})},o.onRemarkSave=function(){var e=o.props.form.getFieldValue(F.remark);n.i(w.o)({id:o.props.params.positionId,remark:e}).then(function(e){e.error?g.message.error(e.error.message):g.message.success("save success")})},i=a,p()(o,i)}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.form,n=t.getFieldDecorator,a=t.getFieldsValue,r=e.$setting,o=e.sow,s=e.isUpdate,c=a(),u=function(e){if(s)return e;var t=r.getIn([R.clients.path,o.clientId,R.teams.path]),n=t?t.map(function(e){return e.get("id")}).toArray():[];return e.filter(function(e){return n.indexOf(e.get("id"))>-1})},l=s||!(c[F.teamId]&&c[F.location]&&c[F.officeId]),d=function(e){return l?e:e.filter(function(e){return e.get(F.teamId)==c[F.teamId]&&e.get(F.location)==c[F.location]&&e.get(F.officeId)==c[F.officeId]})};return n(F.stdPosDetailId),y.a.createElement(g.Form,{className:"simple-form",style:{marginLeft:20},layout:"inline"},y.a.createElement(_,i()({label:"Code"},O),n(F.name,{rules:[{type:"string",message:"Get the code through the Team",required:!0}]})(y.a.createElement(g.Input,{className:"input-underline",disabled:!0}))),y.a.createElement(_,i()({label:"Staff"},O),n(F.expectStaffId)(y.a.createElement(g.Select,{className:"select-underline",disabled:s}))),y.a.createElement(_,i()({label:"Company"},O),n(F.companyId,{rules:[{type:"string",message:"Missing Company",required:!0}]})(y.a.createElement($,{disabled:s}))),y.a.createElement(_,i()({label:"Title"},O),n(F.titleId,{rules:[{type:"string",message:"Missing Title",required:!0}]})(y.a.createElement(A,{disabled:s}))),y.a.createElement(_,i()({label:"SOW Level"},O),n(F.sowLevel)(y.a.createElement(g.Input,{className:"input-underline",disabled:!0}))),y.a.createElement(_,i()({label:"Team"},O),n(F.teamId,{rules:[{type:"string",message:"Missing Team",required:!0}]})(y.a.createElement(M,{disabled:s,filterAction:u,onChange:this.onTeamChange}))),y.a.createElement(_,i()({label:"Ford Function"},O),n(F.fordFunctionId,{rules:[{type:"string",message:"Missing Ford Function",required:!0}]})(y.a.createElement(H,{disabled:s}))),y.a.createElement(_,i()({label:"Office"},O),n(F.officeId,{rules:[{type:"string",message:"Missing Office",required:!0}]})(y.a.createElement(j,{disabled:s,onChange:this.onOfficeChange}))),y.a.createElement(_,i()({label:"Local / Expat"},O),n(F.location,{rules:[{type:"string",message:"Missing Local / Expat",required:!0}]})(y.a.createElement(V,{disabled:s,filterAction:function(e){return e.filter(function(e){return"Common"!==e})},onChange:this.onLocationChange}))),y.a.createElement(_,i()({label:"Currency"},O),n(F.currencyId)(y.a.createElement(g.Input,{disabled:!0,className:"input-underline"}))),y.a.createElement(_,i()({label:"Standard Position"},O),n(F.stdPosId,{rules:[{type:"string",message:"Missing Standard Position",required:!0}]})(y.a.createElement(L,{onChange:this.onStdPossChange,disabled:l,filterAction:d}))),y.a.createElement(_,i()({label:"Skill's Level"},O),n(F.skillLevel,{rules:[{type:"string",message:"Missing Skill's Level",required:!0}]})(y.a.createElement(q,{disabled:s,onChange:this.onChangeSkillLevel}))),y.a.createElement(_,i()({label:"HC Category"},O),n(F.HCCategory,{initialValue:o.year+" New"})(y.a.createElement(g.Input,{className:"input-underline",disabled:!0}))),y.a.createElement(_,i()({label:"Remark"},O),n(F.remark)(y.a.createElement(g.Input,{className:"input-underline"}))),s&&y.a.createElement(g.Button,{type:"primary",onClick:this.onRemarkSave},"Save"),y.a.createElement(_,{style:{width:"100%",margin:0}},n(F.budget)(y.a.createElement(T.a,{disabled:s,onChange:this.onBudgetChange,params:{year:o.year,officeId:c.officeId,existStaff:!!c[F.expectStaffId]}}))))}}]),t}(y.a.PureComponent);B.propTypes={params:b.a.object,isUpdate:b.a.bool,sow:b.a.object.isRequired,$setting:E.a.map.isRequired},t.b=g.Form.create()(B)},294:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1],n=d[t.type];return n?n(e,t):e}n.d(t,"b",function(){return l}),t.a=a;var r=n(9),o=n.n(r),i=n(103),s=n(133),c=n(26),u=n.n(c),l=function(){return function(e){return n.i(s.a)({url:i.a.arguments.fetch}).then(function(t){return e({type:"FETCH_ARGUMENTS",payload:u.a.fromJS(t)}),t}).catch(function(t){return e({type:"FETCH_ERROR",error:t})})}},d=o()({},"FETCH_ARGUMENTS",function(e,t){return t.payload}),p=u.a.Map()},295:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return{type:s,payload:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];return t.type===s?t.payload:e}n.d(t,"b",function(){return c}),t.a=r;var o=n(1282),i=n.n(o),s="LOCATION_CHANGE",c=function(e){var t=e.dispatch;return function(e){return t(a(e))}},u=i.a.getCurrentLocation()},30:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"j",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"h",function(){return h});var a,r=n(9),o=n.n(r),i=(n(14),"/api/"),s={saveSuccess:"Save success"},c={year:[{text:"2017",value:"2017"},{text:"2016",value:"2016"}]},u={usd:"USD",rmb:"RMB",local:"LOCAL",constantRateToUSD:"constantRateToUSD",fordRateToUSD:"fordRateToUSD",constantRateToRMB:"constantRateToRMB",fordRateToRMB:"fordRateToRMB"},l=(a={},o()(a,u.usd,u.fordRateToUSD),o()(a,u.rmb,u.fordRateToRMB),a),d={location:"location",distributeType:"distributeType",categorySalary:"salaryCategory",status:"status",payorType:"payorType",levelType:"levelType",clientType:"clientType",stdPosCategory:"stdPosCategory",skillLevel:"skillLevelType"},p={soldSows:"soldSows",specialSows:"specialSows",sowLevel:"sowLevel",currencys:"currencys",positions:"positions",sowPosition:"sowPosition"},f={inHouse:"InHouse",letGo:"LetGo"},m={toSubmit:"toSubmit",toApproveByFD:"toApproveByFD",refusedByFD:"refusedByFD",toApproveByClient:"toApproveByClient",refusedByClient:"refusedByClient",toCollectPO:"toCollectPO",POCollected:"POCollected",disabled:"disabled",special:"special"},h={field:"skillLevel",high:"High",middle:"Middle",low:"Low"}},33:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return u});var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return a(e,t).toFixed(t)},o=function(e,t){var n=a(e);return parseInt(n)==n?n:r(n,t)},i=function(e){if(isNaN(e))return"";var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},s={money:function(e){return i(r(e/100))},percent:function(e){return isNaN(e)?"0%":o(100*e)+"%"}},c=function(e){return e.reduce(function(e,t){return e[t.salaryTypeId]=t.amount,e},{})},u=function(e){return Object.keys(e).map(function(t){return{salaryTypeId:t,amount:e[t]}})}},335:function(e,t){},336:function(e,t){},34:function(e,t,n){"use strict";function a(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof I.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function r(e){function t(t,n,a,r,o,i){for(var s=arguments.length,c=Array(s>6?s-6:0),u=6;u<s;u++)c[u-6]=arguments[u];if(i=i||a,r=r||E,null!=n[a])return e.apply(void 0,[n,a,r,o,i].concat(c));var l=o;return t?new Error("Required "+l+" `"+i+"` was not specified in `"+r+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e,t){function n(n,r,o,i,s){var c=n[r];if(!t(c)){var u=a(c);return new Error("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+o+"`, expected `"+e+"`.")}return null}return r(n)}function i(e,t,n){function o(r,o,i,s,c){for(var u=arguments.length,l=Array(u>5?u-5:0),d=5;d<u;d++)l[d-5]=arguments[d];var p=r[o];if(!n(p)){var f=s,m=a(p);return new Error("Invalid "+f+" `"+c+"` of type `"+m+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+c+"`, expected a function.");for(var h=p.toArray(),y=0,g=h.length;y<g;y++){var v=e.apply(void 0,[h,y,i,s,c+"["+y+"]"].concat(l));if(v instanceof Error)return v}}return r(o)}function s(e){function t(t,n,a,r,o){for(var i=arguments.length,s=Array(i>5?i-5:0),c=5;c<i;c++)s[c-5]=arguments[c];var u=t[n];if("function"!=typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+a+"` for propType `"+o+"`, expected a function.");for(var l=u.keySeq().toArray(),d=0,p=l.length;d<p;d++){var f=e.apply(void 0,[l,d,a,r,o+" -> key("+l[d]+")"].concat(s));if(f instanceof Error)return f}}return r(t)}function c(e){return i(e,"List",I.List.isList)}function u(e,t,n,a){function o(){for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return i(e,n,a).apply(void 0,o)||t&&s(t).apply(void 0,o)}return r(o)}function l(e,t){return u(e,t,"Map",I.Map.isMap)}function d(e,t){return u(e,t,"OrderedMap",I.OrderedMap.isOrderedMap)}function p(e){return i(e,"Set",I.Set.isSet)}function f(e){return i(e,"OrderedSet",I.OrderedSet.isOrderedSet)}function m(e){return i(e,"Stack",I.Stack.isStack)}function h(e){return i(e,"Iterable",I.Iterable.isIterable)}function y(e){function t(t,n,r,o,i){for(var s=arguments.length,c=Array(s>5?s-5:0),u=5;u<s;u++)c[u-5]=arguments[u];var l=t[n];if(!(l instanceof I.Record)){var d=a(l),p=o;return new Error("Invalid "+p+" `"+i+"` of type `"+d+"` supplied to `"+r+"`, expected an Immutable.js Record.")}for(var f in e){var m=e[f];if(m){var h=l.toObject(),y=m.apply(void 0,[h,f,r,o,i+"."+f].concat(c));if(y)return y}}}return r(t)}function g(e){function t(t,r,i,s,c){for(var u=arguments.length,l=Array(u>5?u-5:0),d=5;d<u;d++)l[d-5]=arguments[d];var p=t[r];if(!o(p)){var f=a(p),m=s;return new Error("Invalid "+m+" `"+c+"` of type `"+f+"` supplied to `"+i+"`, expected an Immutable.js "+n+".")}var h=p.toObject();for(var y in e){var g=e[y];if(g){var v=g.apply(void 0,[h,y,i,s,c+"."+y].concat(l));if(v)return v}}}var n=void 0===arguments[1]?"Iterable":arguments[1],o=void 0===arguments[2]?I.Iterable.isIterable:arguments[2];return r(t)}function v(e){return g(e)}function b(e){return g(e,"Map",I.Map.isMap)}var I=n(26),E="<<anonymous>>",w={listOf:c,mapOf:l,orderedMapOf:d,setOf:p,orderedSetOf:f,stackOf:m,iterableOf:h,recordOf:y,shape:v,contains:v,mapContains:b,list:o("List",I.List.isList),map:o("Map",I.Map.isMap),orderedMap:o("OrderedMap",I.OrderedMap.isOrderedMap),set:o("Set",I.Set.isSet),orderedSet:o("OrderedSet",I.OrderedSet.isOrderedSet),stack:o("Stack",I.Stack.isStack),seq:o("Seq",I.Seq.isSeq),record:o("Record",function(e){return e instanceof I.Record}),iterable:o("Iterable",I.Iterable.isIterable)};e.exports=w},44:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments[1],n=H[t.type];return n?n(e,t):e}n.d(t,"d",function(){return b}),n.d(t,"h",function(){return I}),n.d(t,"s",function(){return E}),n.d(t,"v",function(){return w}),n.d(t,"t",function(){return S}),n.d(t,"u",function(){return C}),n.d(t,"b",function(){return x}),n.d(t,"c",function(){return T}),n.d(t,"r",function(){return P}),n.d(t,"e",function(){return k}),n.d(t,"f",function(){return R}),n.d(t,"l",function(){return _}),n.d(t,"m",function(){return O}),n.d(t,"n",function(){return F}),n.d(t,"p",function(){return N}),n.d(t,"q",function(){return D}),n.d(t,"g",function(){return j}),n.d(t,"i",function(){return M}),n.d(t,"o",function(){return L}),n.d(t,"j",function(){return A}),n.d(t,"k",function(){return $}),t.a=a;var r,o=n(9),i=n.n(o),s=n(24),c=n.n(s),u=n(0),l=n.n(u),d=n(26),p=n.n(d),f=n(133),m=n(72),h=n(103),y=n(30),g=n(14),v=n(33),b=(g.a.sow,function(e){var t=e.columns,a=e.rate,r=e.$dataSource,o=e.targetCurrency;if(o===y.a.local)return{columns:t,dataSource:r};var i={},s=[],c=["traditional","digital","CRM"];t.forEach(function(e){"number"===e.type?s.push(e.dataIndex):"money"===e.type&&c.push(e.dataIndex),e.path?i[e.dataIndex]=e.path.concat(e.dataIndex):i[e.dataIndex]=[e.dataIndex]});var u={};r=r&&r.map(function(e){var t=e.get("currencyId"),r=function(t){u[t]=u[t]||0;var a=i[t]||[t];isNaN(e.getIn(a))||(u[t]=n.i(v.a)(u[t]+e.getIn(a)))};return s.forEach(r),c.forEach(function(n){var s=i[n]||[n];t!==o&&(e=e.updateIn(s,function(e){return e/a[t]})),r(n)}),e});var d={currencyId:o},p={currencyId:{render:function(e){return o}}};return t=t.map(function(e){var t=void 0;d[e.dataIndex]&&(t=d[e.dataIndex]),p[e.dataIndex]&&(e=Object.assign({},e,p[e.dataIndex])),void 0!==u[e.dataIndex]&&(t=u[e.dataIndex],v.b[e.type]&&(t=v.b[e.type](t)));var n=l.a.createElement("div",{className:"total-amount-title"},l.a.createElement("div",{className:"old"},e.title),l.a.createElement("div",{className:"new"},t));return Object.assign({},e,{title:n})}),{columns:t,dataSource:r}}),I=function(e){return function(t){return n.i(f.a)({url:h.a.sow.fetch,data:e}).then(function(e){var a=e.obj;return a.soldSows=n.i(m.a)()(a.soldSows.rows),a.specialSows=n.i(m.a)()(a.specialSows.rows),a.currencys=n.i(m.a)()(a.currencys),t({type:"FETCH_SOW_ALL",payload:p.a.fromJS(a)}),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},E=function(e){return function(t){return n.i(f.a)({url:h.a.sow.create,type:"post",data:e}).then(function(e){return t(I()),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},w=function(e){return n.i(f.a)({url:h.a.sow.copyView,type:"get",data:e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},S=function(e){return function(t){return n.i(f.a)({url:h.a.sow.copy,type:"post",data:e}).then(function(e){return t(I()),e}).catch(function(e){return t({type:"FETCH_ERROR",error:e})})}},C=function(e){var t=e.id,a=c()(e,["id"]);return function(e){return n.i(f.a)({url:h.a.sow.editPass+t,type:"put",data:a}).then(function(t){return e({type:"EDIT_PASS_THROUGH",payload:p.a.fromJS(t.obj)}),t}).catch(function(t){return e({type:"FETCH_ERROR",error:t})})}},x=function(e){return n.i(f.a)({url:h.a.sow.fetchSingle+e}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},T=function(e){return n.i(f.a)({url:e,type:"put"}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},P=function(e,t){return n.i(f.a)({url:h.a.sow.collectPO+t,data:e,type:"put"}).then(function(e){return e.obj}).catch(function(e){return{error:e}})},k=function(e){return n.i(f.a)({url:h.a.sow.fetchPO,data:e}).then(function(e){return e.objs}).catch(function(e){return{error:e}})},R=function(e){return n.i(f.a)({url:h.a.sow.updatePO,type:"put",data:e}).then(function(e){return e}).catch(function(e){return{error:e}})},_=function(e){return n.i(f.a)({url:h.a.sow.getPositionName,data:e}).then(function(e){return e}).catch(function(e){return{error:e}})},O=function(e){return n.i(f.a)({url:h.a.sow.getPositionBudget,data:e}).then(function(e){return e}).catch(function(e){return{error:e}})},F=function(e){return n.i(f.a)({url:h.a.sow.getSowLevel,data:e}).then(function(e){return e}).catch(function(e){return{error:e}})},N=function(e){return n.i(f.a)({url:h.a.sow.getSowNote,data:e}).then(function(e){return e}).catch(function(e){return{error:e}})},D=function(e){return n.i(f.a)({url:h.a.sow.createPosition,data:e,type:"post"}).then(function(e){return e}).catch(function(e){return{error:e}})},j=function(e){return n.i(f.a)({url:h.a.sow.fetchAllPosition,data:e}).then(function(e){return e}).catch(function(e){return{error:e}})},M=function(e){return n.i(f.a)({url:h.a.sow.fetchSinglePosition+e}).then(function(e){return e}).catch(function(e){return{error:e}})},L=function(e){var t=e.id,a=c()(e,["id"]);return n.i(f.a)({url:h.a.sow.updatePositionRemark+t,type:"put",data:a}).then(function(e){return e}).catch(function(e){return{error:e}})},A=function(e){return n.i(f.a)({url:h.a.sow.clientCost,data:e}).then(function(e){return e}).catch(function(e){return{error:e}})},$=function(e){return n.i(f.a)({type:"post",url:h.a.sow.createSowPositions,data:e}).then(function(e){return e}).catch(function(e){return{error:e}})},H=(r={},i()(r,"FETCH_SOW_ALL",function(e,t){return e.merge(t.payload)}),i()(r,"EDIT_PASS_THROUGH",function(e,t){return e.setIn(["soldSows",t.payload.get("id")],t.payload)}),r),V=p.a.Map()},47:function(e,t,n){"use strict";n.d(t,"f",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"e",function(){return b}),n.d(t,"c",function(){return I}),n.d(t,"d",function(){return E}),n.d(t,"b",function(){return w});var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(2),p=n.n(d),f=n(0),m=n.n(f),h=n(12),y=n(33),g=function(e){return m.a.createElement(h.Input,p()({},e,{onChange:function(t){return e.onChange(t.target.value)}}))},v=function(e){return m.a.createElement(h.InputNumber,p()({},e,{min:1900,max:2100}))},b=function(e){return m.a.createElement(h.InputNumber,p()({},e,{min:.01,max:1,step:.01}))},I=function(e){return m.a.createElement(h.Input,p()({},e,{defaultValue:isNaN(e.defaultValue)?"":e.defaultValue/100,onChange:function(t){return e.onChange(isNaN(t.target.value)?"":100*t.target.value)}}))},E=function(e){return m.a.createElement(h.InputNumber,p()({},e,{min:0,max:100,step:.1}))},w=function(e){function t(){var e,a,o,i;r()(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return a=o=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.onChange=function(e){(e=isNaN(e)?e:n.i(y.a)(100*e))!==o.props.value&&o.props.onChange(e)},i=a,c()(o,i)}return l()(t,e),i()(t,[{key:"render",value:function(){var e=this.props.value;return isNaN(e)||(e=n.i(y.a)(Math.floor(e)/100)),m.a.createElement(h.InputNumber,p()({className:"input-underline",formatter:function(e){return n.i(y.c)(e)},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}},this.props,{onChange:this.onChange,value:e}))}}]),t}(m.a.PureComponent)},51:function(e,t,n){"use strict";n.d(t,"c",function(){return w}),n.d(t,"b",function(){return S}),n.d(t,"a",function(){return C});var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(2),p=n.n(d),f=n(0),m=n.n(f),h=n(12),y=n(26),g=n.n(y),v=n(1),b=n.n(v),I=n(72),E=n(894),w=(n.n(E),function(e){return m.a.createElement(h.Table,p()({rowKey:function(e,t){return t},className:"table-default",bordered:!0,size:"small",pagination:!1},e))}),S=function(e){function t(){var e,n,a,o;r()(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=a=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.transformColumns=function(e){return e.map(function(e){var t=e.path?e.path.concat(e.dataIndex):[e.dataIndex];if(e.render){if("money"===e.type){var n=e.render;e.render=function(e,a,r){return n(a.getIn(t),a,r)}}}else e.render=function(e,n,a){return n.getIn(t)};return e})},a.transformDataSource=function(e){g.a.Map.isMap(e)||g.a.List.isList(e)?a.dataSource=e.toArray():a.dataSource=e},o=n,c()(a,o)}return l()(t,e),i()(t,[{key:"componentWillMount",value:function(){this.columns=this.transformColumns(this.props.columns),this.transformDataSource(this.props.dataSource)}},{key:"componentWillReceiveProps",value:function(e){e.columns!==this.props.columns&&(this.columns=this.transformColumns(e.columns)),e.dataSource!==this.props.dataSource&&this.transformDataSource(e.dataSource)}},{key:"render",value:function(){return m.a.createElement(w,p()({},this.props,{columns:this.columns,dataSource:this.dataSource}))}}]),t}(m.a.PureComponent);S.defaultProps={dataSource:[]},S.propTypes={dataSource:b.a.any.isRequired,columns:b.a.array.isRequired,fixTitle:b.a.bool};var C=function(e){function t(){var e,a,o,i;r()(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return a=o=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.setHeight=function(){o.wrap&&(o.height=o.wrap.clientHeight-o.props.titleHeight)},o.setHeightWidthResize=n.i(I.b)(function(){o.setHeight(),o.forceUpdate()},200),i=a,c()(o,i)}return l()(t,e),i()(t,[{key:"componentDidMount",value:function(){this.setHeight(),this.forceUpdate(),window.addEventListener("resize",this.setHeightWidthResize,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setHeightWidthResize,!1)}},{key:"render",value:function(){var e=this;this.setHeight();var t=this.props.scroll,n=this.props.rowSelection?62:0,a=this.props.columns.reduce(function(e,t){return e+t.width},n);return t?(t.y=this.height,t.x=a):t={y:this.height,x:a},m.a.createElement("div",{className:"fixed-table",ref:function(t){return e.wrap=t}},m.a.createElement(S,p()({},this.props,{scroll:t})))}}]),t}(m.a.PureComponent);C.defaultProps={titleHeight:50},C.propTypes={titleHeight:b.a.number}},56:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(0),r=n.n(a),o=n(13),i=n(12),s=n(1),c=n.n(s),u=n(896),l=(n.n(u),function(e){var t=e.header,n=e.footer,a=e.children,o=e.autoHeight,i=void 0===o||o;return r.a.createElement("div",{className:"layout-fix"},t&&r.a.createElement("div",{className:"layout-fix-header"},t),r.a.createElement("div",{className:"layout-fix-content"+(i?"":" layout-fix-height")},a),n&&r.a.createElement("div",{className:"layout-fix-footer"},n))});l.propTypes={fixHeight:c.a.bool,header:c.a.element,footer:c.a.element,children:c.a.any.isRequired},t.b=l;var d=function(e){var t=e.extra,n=e.location,a=e.title,s=void 0===a?{}:a,c=e.children,u=n.pathname.split("/").filter(function(e){return e&&"home"!==e.toLowerCase()}),l=u.map(function(e,t){var n="/"+u.slice(0,t+1).join("/"),a=s[e]||decodeURI(e);return r.a.createElement(i.Breadcrumb.Item,{key:n},r.a.createElement(o.Link,{to:n},a))}),d=[r.a.createElement(i.Breadcrumb.Item,{key:"home"},r.a.createElement(o.Link,{to:"/"},"Home"))].concat(l);return r.a.createElement("div",{className:"page-header"},r.a.createElement("h2",{className:"pull-left"},r.a.createElement(i.Breadcrumb,null,d),c),r.a.createElement("div",{className:"pull-right"},t))};d.propTypes={title:c.a.object,location:c.a.object,extra:c.a.element}},572:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n.n(a),o=n(11),i=n.n(o),s=n(753),c=n(903),u=(n.n(c),n(891)),l=(n.n(u),n.i(s.a)(window.__INITIAL_STATE__)),d=document.getElementById("root"),p=function(){var e=n(695).default,t=n(752).default(l);i.a.render(r.a.createElement(e,{store:l,routes:t}),d)};p()},667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(282),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=r.default,e.exports=t.default},668:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),o=a(r),i=n(1112),s=a(i),c=n(282),u=a(c),l=n(283),d=a(l),p=n(667),f=a(p);o.default.locale("en"),t.default={locale:"en",Pagination:s.default,DatePicker:u.default,TimePicker:d.default,Calendar:f.default,Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{notFoundContent:"Not Found",searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items"},Select:{notFoundContent:"Not Found"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file"}},e.exports=t.default},69:function(e,t,n){"use strict";var a,r=n(2),o=n.n(r),i=n(24),s=n.n(i),c=n(9),u=n.n(c),l=n(0),d=n.n(l),p=n(1),f=n.n(p),m=n(34),h=n.n(m),y=n(12),g=n(17),v=n(14),b=y.Select.Option,I={currency:80},E=(a={},u()(a,v.a.setting.company.path,"name"),u()(a,v.a.setting.stdPoss.path,"name"),u()(a,v.a.setting.teams.path,"name"),a),w=function(e){var t=e.type,n=e.setting,a=e.style,r=e.showAll,i=e.filterAction,c=e.valueField,u=void 0===c?"id":c,l=s()(e,["type","setting","style","showAll","filterAction","valueField"]),p=Object.assign({minWidth:I[t]},a),f=!0===r?[d.a.createElement(b,{key:"all"},"All")]:[],m=E[t]||"id",h=n.get(t);i&&h&&(h=i(h)),h&&f.push(h.valueSeq().map(function(e){return d.a.createElement(b,{key:e.get(u)},e.get(m))}));var g={dropdownMatchSelectWidth:!1};return h&&h.size>7&&(g.showSearch=!0,g.optionFilterProp="children"),d.a.createElement(y.Select,o()({},g,l,{style:p}),f)};w.propTypes={type:f.a.string.isRequired,style:f.a.object,showAll:f.a.bool,setting:h.a.map.isRequired,filterAction:f.a.func};var S=function(e){return{setting:e.setting}};t.a=n.i(g.connect)(S)(w)},693:function(e,t,n){"use strict";function a(e){var t=function(t){function a(){var e,t,r,i;o()(this,a);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return t=r=u()(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(c))),r.state={loading:!0},r.check=function(e){e.user?e.user.get("id")?r.hasAuth=!0:b.browserHistory.push("/login?next="+e.location.pathname):e.dispatch(n.i(y.b)()).then(function(t){t.error&&(r.hasAuth=!1,b.browserHistory.push("/login?next="+e.location.pathname))})},i=t,u()(r,i)}return d()(a,t),s()(a,[{key:"componentWillMount",value:function(){this.check(this.props)}},{key:"componentDidMount",value:function(){this.props.dispatch(n.i(g.b)())}},{key:"componentWillReceiveProps",value:function(e){this.check(e)}},{key:"render",value:function(){var t=this;return this.hasAuth&&!I&&(I=!0,this.props.dispatch(n.i(v.L)()).then(function(e){t.setState({loading:!1})})),this.hasAuth?f.a.createElement(h.Spin,{tip:"Loading resources...",spinning:!this.props.hasSetting&&this.state.loading,size:"large"},f.a.createElement(e,this.props)):null}}]),a}(f.a.PureComponent),a=function(e){return{user:e.user,hasSetting:e.setting.size>0}};return n.i(m.connect)(a)(t)}t.a=a;var r=n(3),o=n.n(r),i=n(6),s=n.n(i),c=n(5),u=n.n(c),l=n(4),d=n.n(l),p=n(0),f=n.n(p),m=n(17),h=n(12),y=n(128),g=n(294),v=n(23),b=n(13),I=!1},694:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a={},r={id:{title:"Code"},name:{title:"Name"},contact:{title:"Contact"},telephone:{title:"Telephone"},address:{title:"Address"},email:{title:"Email"},year:{title:"Year"},rate:{title:"Rate",type:"percent"},max:{title:"Max",type:"money"},min:{title:"Min",type:"money"},type:{title:"Type"},team:{title:"Team"},incentiveRate:{title:"Incentive Rate In Sow",type:"percent"},taxDiscountRate:{title:"Tax Discount Rate",type:"percent"},brief:{title:"Brief Name"},currencyId:{title:"Currency"},mulRate:{title:"Multiplier",type:"number"},dictRate:{title:"Direct Compensation",type:"number",showTitleTip:!0},incRate:{title:"Sal. Increase",type:"percent",showTitleTip:!0},benRate:{title:"Benefit Factors",type:"percent",showTitleTip:!0},overRate:{title:"Overhead Ratio",type:"percent",showTitleTip:!0},mkpRate:{title:"MarkUp",type:"percent"},taxRate:{title:"Tax",type:"percent"},invRate:{title:"Incentive",type:"percent"},divRate:{title:"Incentive Divisor",type:"number",showTitleTip:!0},operation:{title:"Operation"},officeId:{title:"Office"},teamId:{title:"Team"},low:{title:"Low"},middle:{title:"Middle"},high:{title:"High"},skillLevel:{title:"Level"},category:{title:"Category"},location:{title:"Location"},distributeType:{title:"Distribute Type"},index:{title:"Index"},constantRate:{title:"Constant Rates",type:"number"},fordRate:{title:"Ford Rate",type:"number"},country:{title:"Country"},version:{title:"Version"},flowStatus:{title:"Status"},clientId:{title:"Client"},positionNum:{title:"Job Num",type:"number"},FTE:{title:"FTE",type:"number"},openPositionNum:{title:"Open Position",type:"number",width:130},net:{title:"Net Fee",type:"money"},gross:{title:"Gross Fee",type:"money"},grandTotal:{title:"Grand Fee",type:"money"},media:{title:"Media",type:"money"},production:{title:"Production",type:"money"},travel:{title:"Travel",type:"money"},total:{title:"Total",type:"money"},level1:{title:"level1",type:"number"},level2:{title:"level2",type:"number"},level3:{title:"level3",type:"number"},level4:{title:"level4",type:"number"},level5:{title:"level5",type:"number"},sowType:{title:"Type"},digital:{title:"Digital",type:"money"},CRM:{title:"CRM",type:"money"},traditional:{title:"Traditional",type:"money"},expectStaffId:{title:"Staff"},companyId:{title:"Company"},titleId:{title:"Title"},sowLevel:{title:"SOW Level"},fordFunctionId:{title:"Ford Function"},tax:{title:"Tax",type:"money"},incentive:{title:"Incentive",type:"money"},stdPosId:{title:"Standard Position"},HCCategory:{title:"HC Category"},annualSalary:{title:"Salary",type:"money"},annualCola:{title:"Cola",type:"money"},bonus:{title:"Bonus",type:"money"},directComp:{title:"Direct Comp",type:"money"},benefits:{title:"Benefits",type:"money"},directLabor:{title:"Direct Labor",type:"money"},filePath:{title:"File"},budgetIncentive:{title:"Budget Incentive",type:"money"}}},695:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(0),p=n.n(d),f=n(13),m=n(17),h=n(1),y=n.n(h),g=n(12),v=n(668),b=n.n(v),I=function(e){function t(){return r()(this,t),c()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l()(t,e),i()(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return p.a.createElement(m.Provider,{store:this.props.store},p.a.createElement("div",{style:{height:"100%"}},p.a.createElement(g.LocaleProvider,{locale:b.a},p.a.createElement(f.Router,{history:f.browserHistory,children:this.props.routes}))))}}]),t}(p.a.Component);I.propTypes={store:y.a.object.isRequired,routes:y.a.object.isRequired},t.default=I},696:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(12),i=n(1),s=n.n(i),c=function(e){var t=e.mode,n=e.selectedKeys,a=e.navList,i=e.onClick;return r.a.createElement(o.Menu,{theme:"dark",mode:t,selectedKeys:n,onClick:i},a.map(function(e){return r.a.createElement(o.Menu.Item,{key:e.key,style:{display:e.show?"block":"none"}},r.a.createElement(o.Badge,{className:"nav-badge"},r.a.createElement(o.Icon,{type:e.icon}),r.a.createElement("span",{className:"nav-text"},e.name)))}),r.a.createElement(o.Menu,{className:"divider"}),r.a.createElement(o.Menu.Item,{key:"login"},r.a.createElement("span",null,r.a.createElement(o.Icon,{type:"poweroff"}),r.a.createElement("span",{className:"nav-text"},"Logout"))))};c.propTypes={mode:s.a.string.isRequired,onClick:s.a.func.isRequired,selectedKeys:s.a.array},t.a=c},697:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(0),p=n.n(d),f=n(1),m=n.n(f),h=n(34),y=n.n(h),g=n(696),v=n(698),b=n(897),I=(n.n(b),n(12)),E=n(14),w=I.Layout.Content,S=I.Layout.Sider,C="true"===localStorage.getItem("collapsed"),x="true"===localStorage.getItem("subCollapsed"),T=/(^\/)+|\/.*/g,P=/(^\/?\w*\/)+|\/.*/g,k=function(e){function t(){var e,n,a,o;r()(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=a=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={collapsed:C,mode:C?"vertical":"inline",subCollapsed:x,subMode:x?"vertical":"inline",navList:E.b},a.mainNavToggle=function(){var e=!a.state.collapsed;localStorage.setItem("collapsed",e),a.setState({collapsed:e,mode:e?"vertical":"inline"})},a.navOnClick=function(e){"login"===e.key?a.props.logout().then(function(e){e.error&&I.message.error(e.error.message)}):a.props.pathJump("/"+e.key)},a.subNavToggle=function(){var e=!a.state.subCollapsed;localStorage.setItem("subCollapsed",e),a.setState({subCollapsed:e,subMode:e?"vertical":"inline"})},a.subNavOnClick=function(e){return function(t){return a.props.pathJump("/"+e+"/"+t.key)}},o=n,c()(a,o)}return l()(t,e),i()(t,[{key:"componentWillReceiveProps",value:function(e){e.$user!==this.props.user&&this.updateNavList(e)}},{key:"componentWillMount",value:function(){this.updateNavList(this.props)}},{key:"updateNavList",value:function(e){var t=function t(n){if(e.$user){if(n.role&&Array.isArray(n.role)){var a=e.$user.get("roles").some(function(e){return n.role.indexOf(e.get("id"))>-1});a||(n.show=a)}n.show=!0,n.children&&Array.isArray(n.children)&&(n.children=n.children.map(t))}return n};this.setState(function(e){return{navList:e.navList.map(t)}})}},{key:"render",value:function(){var e=this.props.location.pathname.replace(T,""),t=this.state.navList.find(function(t){return t.key===e})||{};return p.a.createElement(I.Layout,{className:"layout-main"},p.a.createElement(S,{collapsible:!0,collapsed:this.state.collapsed,trigger:null,width:"180",collapsedWidth:"50",className:"side-main"},p.a.createElement(I.Icon,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.mainNavToggle}),p.a.createElement(g.a,{mode:this.state.mode,navList:this.state.navList,selectedKeys:[e],onClick:this.navOnClick})),t.children&&p.a.createElement(S,{collapsible:!0,collapsed:this.state.subCollapsed,trigger:null,width:"180",collapsedWidth:"0",className:"side-sub"},p.a.createElement(I.Icon,{className:"trigger",type:this.state.subCollapsed?"menu-unfold":"menu-fold",onClick:this.subNavToggle}),p.a.createElement(v.a,{title:t.name,mode:this.state.subMode,navList:t.children,selectedKeys:[this.props.location.pathname.replace(P,"")],onClick:this.subNavOnClick(e)})),p.a.createElement(I.Layout,null,p.a.createElement(w,{className:"content"},p.a.createElement("div",{className:"content-wrap"},this.props.children))))}}]),t}(p.a.Component);k.propTypes={children:m.a.node,location:m.a.object.isRequired,pathJump:m.a.func.isRequired,$user:y.a.map},t.a=k},698:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(12),i=n(1),s=n.n(i),c=function(e){var t=e.mode,n=e.selectedKeys,a=e.navList,i=e.title,s=e.onClick;return r.a.createElement("div",null,r.a.createElement("h2",{className:"sub-nav-title"},i),r.a.createElement(o.Menu,{theme:"light",mode:t,selectedKeys:n,onClick:s},a.map(function(e){return r.a.createElement(o.Menu.Item,{key:e.key,style:{display:e.show?"block":"none"}},r.a.createElement(o.Badge,{className:"nav-badge"},r.a.createElement("span",{className:"nav-text"},e.name)))})))};c.propTypes={title:s.a.string,mode:s.a.string.isRequired,onClick:s.a.func.isRequired,selectedKeys:s.a.array},t.a=c},699:function(e,t,n){"use strict";var a=n(17),r=n(13),o=n(697),i=n(128),s=function(e){return{location:e.location,$user:e.user}},c=function(e){return{logout:function(){return e(n.i(i.a)())},pathJump:function(e){return r.browserHistory.push(e)}}};t.a=n.i(a.connect)(s,c)(o.a)},70:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(0),p=n.n(d),f=n(1),m=n.n(f),h=n(34),y=n.n(h),g=n(12),v=n(56),b=n(167),I=n(26),E=n.n(I),w=n(13),S=function(e){function t(){var e,n,a,o;r()(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=a=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setInitialValue=function(e){if(e.$initialValue&&a.form){var t=a.props.columns.map(function(e){return e.get("dataIndex")}),n=e.$initialValue.filter(function(e,n){return t.indexOf(n)>-1}).toJS();a.form.setFieldsValue(n)}},a.onSave=function(){a.form.validateFields(function(e,t){e||a.props.onSave(t)})},o=n,c()(a,o)}return l()(t,e),i()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.$initialValue!==e.$initialValue&&this.setInitialValue(e)}},{key:"componentDidMount",value:function(){this.props.$initialValue&&this.setInitialValue(this.props)}},{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=t.location,r=t.children,o=t.extra,i=t.onSave;return p.a.createElement(v.b,{header:p.a.createElement(v.a,{location:a,extra:o})},p.a.createElement(b.a,{columns:n,ref:function(t){return e.form=t},layout:"inline"}),p.a.createElement("div",{className:"form-action"},i&&p.a.createElement(g.Button,{type:"primary",size:"large",onClick:this.onSave},"Save"),p.a.createElement(g.Button,{size:"large",onClick:w.browserHistory.goBack},"Back")),r)}}]),t}(p.a.PureComponent);S.defaultProps={company:E.a.Map()},S.propTypes={$initialValue:y.a.map,onSave:m.a.func,columns:m.a.array.isRequired,extra:m.a.element},t.a=S},700:function(e,t,n){"use strict";var a=n(132);t.a=function(e){return{path:"counter",getComponent:function(t,r){n.e(0).then(function(t){var o=n(1321).default,i=n(1320).default;n.i(a.a)(e,{key:"counter",reducer:i}),r(null,o)}.bind(null,n)).catch(n.oe)}}}},701:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(13),i=n(12),s=n(56),c=n(14),u=n(898),l=(n.n(u),function(e){var t=e.location;return r.a.createElement(s.b,{header:r.a.createElement(s.a,{location:t}),footer:r.a.createElement(i.Button,null,"Save")},r.a.createElement("h3",{style:{marginTop:20}},"Welcome to Staff Admin!"),r.a.createElement(i.Card,{title:"已完成部分",className:"home-card"},r.a.createElement("div",null,r.a.createElement("strong",null,"Sow:"),r.a.createElement(o.Link,{to:"/sow"}," Sow")),r.a.createElement("div",null,r.a.createElement("strong",null,"Setting:"),c.b.find(function(e){return"setting"===e.key}).children.map(function(e){return r.a.createElement("span",{className:"home-link",key:e.key},r.a.createElement(o.Link,{to:"/setting/"+e.key},e.name))}))))});t.a=l},702:function(e,t,n){"use strict";var a=n(701);t.a={component:a.a}},703:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),s=n(12),c=n(13),u=n(899),l=(n.n(u),s.Form.Item),d=function(e){console.log("page",e);var t=e.form.getFieldDecorator,n={labelCol:{span:0},wrapperCol:{span:24}};return r.a.createElement(s.Row,{type:"flex",justify:"center",align:"middle",className:"login"},r.a.createElement(s.Col,{className:"login-wrap"},r.a.createElement(s.Form,{onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(t,n){t||e.login(n).then(function(t){t.error||c.browserHistory.push(e.location.query.next||"/")})})}},r.a.createElement("h1",null,"Staff Admin"),r.a.createElement(l,n,t("id",{initialValue:"developer",rules:[{required:!0,message:"Missing username"}]})(r.a.createElement(s.Input,{prefix:r.a.createElement(s.Icon,{type:"user",style:{fontSize:14}}),placeholder:"Username"}))),r.a.createElement(l,n,t("password",{initialValue:"123",rules:[{required:!0,message:"Missing password"}]})(r.a.createElement(s.Input,{prefix:r.a.createElement(s.Icon,{type:"lock",style:{fontSize:14}}),type:"password",placeholder:"Password"}))),r.a.createElement(s.Row,null,r.a.createElement(s.Col,{offset:0,span:24},r.a.createElement(s.Button,{type:"primary",htmlType:"submit",size:"large",className:"login-button"},"Login"))))))};d.propTypes={form:i.a.object.isRequired},t.a=s.Form.create()(d)},704:function(e,t,n){"use strict";var a=n(17),r=n(128),o=n(703),i={login:r.d},s=function(e){return{user:e.user}};t.a=n.i(a.connect)(s,i)(o.a)},705:function(e,t,n){"use strict";var a=n(132),r=n(704),o=n(128);t.a=function(e){return n.i(a.a)(e,{key:"user",reducer:o.c}),{path:"login",component:r.a,onEnter:function(e,t,n){e.user&&e.user.get("id")&&t("/home"),n()}}}},706:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(81),y=n.n(h),g=n(1),v=n.n(g),b=n(12),I=n(86),E=n(287),w=n(20),S=n(129),C=n(23),x=n(13),T=n(14),P=n(69),k=T.a.setting,R=new w.a(S.a);R.updateForm({id:{disabled:!0}});var _=function(e){return function(t){function n(){return i()(this,n),l()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return p()(n,t),c()(n,[{key:"render",value:function(){var t={dropdownMatchSelectWidth:!1,type:k.teams.path,mode:"combobox",valueField:"name",filterAction:function(t){return t.filter(function(t){return e.indexOf(t.get("name"))<0})}};return m.a.createElement(P.a,r()({},this.props,t))}}]),n}(m.a.PureComponent)},O={},F=m.a.createElement(b.Button,{type:"primary",size:"large",onClick:function(){return x.browserHistory.push("/"+k.path+"/"+k.clients.path+"/"+k.clients.create.path)}},"Create"),N=new w.a(S.b),D=function(e){function t(){var e,a,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return a=r=l()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={},r.onSave=function(e,t){e.clientId=r.props.params.id;var a=function(e){return e.error||(r.props.dispatch(n.i(C.z)()),e.createdTeam&&r.props.dispatch(n.i(C.A)()),r.setState(function(n){return{details:y()(n.details,{$splice:[[t,1,e]]})}})),e};if(e.id)return n.i(C.B)(e).then(a);var o=r.props.setting.get("teams");if(o){var i=o.find(function(t){return t.get("name")===e.name});i&&(e.id=i.get("id"))}return n.i(C.C)(e).then(a)},o=a,l()(r,o)}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;n.i(C.D)(this.props.params.id).then(function(t){t.error?b.message.error(t.error.message):e.setState({details:t.teams})})}},{key:"render",value:function(){console.log("clients Update props=",this.props);var e=this.state.details;if(Array.isArray(e)){var t=e.map(function(e){return e.name});N.updateTable({name:{Component:_(t)}})}return m.a.createElement(E.a,r()({},this.props,{extra:F,columns:R.form}),m.a.createElement(I.a,{initial:O,columns:N.table,onSave:this.onSave,dataSource:e}))}}]),t}(m.a.PureComponent);D.propTypes={onSave:v.a.func.isRequired},t.a=D},707:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(13)),o=n(17),i=n(87),s=n(14),c=n(129),u=n(20),l=(n(33),n(23)),d=s.a.setting,p=new u.a(c.c),f=function(e){return{onCreate:function(){return r.browserHistory.push("/"+d.path+"/"+d.clients.path+"/"+d.clients.create.path)},onChange:function(t,a,r){Object.keys(a).length>0&&a.year&&e(n.i(l.z)({year:a.year[0]}))}}},m=function(e){return{dataSource:e[d.path].get(d.clients.path),columns:p.table,searchColumns:c.d}};t.a=n.i(o.connect)(m,f)(i.a)},708:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(287),i=n(13),s=n(14),c=n(23),u=s.a.setting,l=function(e){return{onSave:function(t){return e(n.i(c.E)(t)).then(function(e){return console.log("onsave ==",e),e.error||i.browserHistory.push("/"+u.path+"/"+u.clients.path+"/"+t.id),e})}}};t.a=n.i(r.connect)(null,l)(o.a)},709:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(12)),o=n(17),i=n(706),s=n(23),c=n(14),u=n(30),l=c.a.setting,d=function(e,t){return{dispatch:e,onSave:function(t){return e(n.i(s.y)(t)).then(function(e){return e.error||r.message.success(u.j.saveSuccess,1),e})}}},p=function(e,t){return{$initialValue:e[l.path].getIn([l.clients.path,t.params.id]),setting:e[l.path]}};t.a=n.i(o.connect)(p,d)(i.a)},71:function(e,t,n){"use strict";n.d(t,"h",function(){return R}),n.d(t,"i",function(){return _}),n.d(t,"d",function(){return O}),n.d(t,"j",function(){return F}),n.d(t,"k",function(){return N}),n.d(t,"l",function(){return D}),n.d(t,"m",function(){return j}),n.d(t,"a",function(){return M}),n.d(t,"b",function(){return L}),n.d(t,"c",function(){return A}),n.d(t,"e",function(){return H}),n.d(t,"g",function(){return V}),n.d(t,"f",function(){return q});var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(12),y=n(13),g=n(33),v=n(30),b=n(47),I=n(69),E=n(104),w=n(286),S=n(14),C=S.a.setting,x=S.a.sow,T=function(e){return function(t){function n(){return i()(this,n),l()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return p()(n,t),c()(n,[{key:"render",value:function(){return m.a.createElement(I.a,r()({},this.props,{type:e,className:"select-underline"}))}}]),n}(m.a.PureComponent)},P=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p()(t,e),c()(t,[{key:"render",value:function(){return m.a.createElement(b.a,r()({},this.props,{className:"input-underline"}))}}]),t}(m.a.PureComponent),k=function(e,t){var n=m.a.createElement("table",{className:"popover-table"},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{className:"title"},"Traditional"),m.a.createElement("td",{className:"amount"},g.b.money(t.get("traditional")))),m.a.createElement("tr",null,m.a.createElement("td",{className:"title"},"Digital"),m.a.createElement("td",{className:"amount"},g.b.money(t.get("digital")))),m.a.createElement("tr",null,m.a.createElement("td",{className:"title"},"CRM"),m.a.createElement("td",{className:"amount"},g.b.money(t.get("CRM"))))));return m.a.createElement(h.Popover,{placement:"bottomRight",content:n},m.a.createElement("span",{className:"has-popover"},g.b.money(t.get("production"))))},R=[{dataIndex:"name",title:"Sow",width:150,render:function(e,t){return m.a.createElement(y.Link,{to:"/"+x.path+"/"+t.get("id")},t.get("name"))}},{dataIndex:"version"},{dataIndex:"clientId"},{dataIndex:"flowStatus",width:150},{dataIndex:"positionNum"},{dataIndex:"FTE"},{dataIndex:"openPositionNum"},{dataIndex:"currencyId"},{dataIndex:"net"},{dataIndex:"gross"},{dataIndex:"grandTotal"}],_=[{dataIndex:"media"},{dataIndex:"production",render:k},{dataIndex:"travel"},{dataIndex:"total"},{dataIndex:"editPass",title:"Edit",width:150}],O=[{dataIndex:"media",Component:b.b},{dataIndex:"travel",Component:b.b},{dataIndex:"digital",Component:b.b},{dataIndex:"CRM",Component:b.b},{dataIndex:"traditional",Component:b.b},{dataIndex:"production",disabled:!0,Component:b.b},{dataIndex:"total",disabled:!0,Component:b.b}],F=[{dataIndex:"level1"},{dataIndex:"level2"},{dataIndex:"level3"},{dataIndex:"level4"},{dataIndex:"level5"}],N=[{dataIndex:"name",title:"Sow",width:120,render:function(e,t){return m.a.createElement(y.Link,{to:"/"+x.path+"/"+t.get("id")},t.get("name"))}},{dataIndex:"sowType"},{dataIndex:"clientId"},{dataIndex:"positionNum"},{dataIndex:"FTE"},{dataIndex:"openPositionNum"},{dataIndex:"currencyId"},{dataIndex:"net"},{dataIndex:"gross"},{dataIndex:"grandTotal"}],D=[{dataIndex:"year",Component:P,required:!0,type:"number"},{dataIndex:"clientId",Component:T(C.clients.path),required:!0},{dataIndex:"name",required:!0},{dataIndex:"sowType",required:!0,Component:function(e){return function(t){function n(){return i()(this,n),l()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return p()(n,t),c()(n,[{key:"render",value:function(){return m.a.createElement(E.a,r()({},this.props,{type:e,className:"select-underline"}))}}]),n}(m.a.PureComponent)}(v.e.clientType)},{dataIndex:"version",disabled:!0},{dataIndex:"currencyId",Component:T(C.currency.path),required:!0}],j=[{dataIndex:"index",title:"Reference",render:function(e,t,n){return 0===n?"Target SOW":1===n?"New SOW":void 0}},{dataIndex:"name",title:"Sow",width:0,render:function(e,t){return t.get("name")+" - "+t.get("version")}},{dataIndex:"FTE",width:50},{dataIndex:"currencyId"},{dataIndex:"net"},{dataIndex:"gross"},{dataIndex:"grandTotal"}],M=[{dataIndex:"name",title:"Position",width:200},{dataIndex:"expectStaffId"},{dataIndex:"companyId"},{dataIndex:"titleId"},{dataIndex:"sowLevel"},{dataIndex:"teamId",width:180,render:function(e,t){return m.a.createElement(w.a,{type:C.teams.path,value:t.get("teamId")})}},{dataIndex:"fordFunctionId",width:280},{dataIndex:"currencyId"},{dataIndex:"FTE",width:50,path:["sowPosition"]},{dataIndex:"net",path:["sowPosition"]},{dataIndex:"tax",path:["sowPosition"]},{dataIndex:"gross",path:["sowPosition"]},{dataIndex:"incentive",path:["sowPosition"]},{dataIndex:"grandTotal",path:["sowPosition"]}],L=[{dataIndex:"stdPosId",width:280,render:function(e,t){return m.a.createElement(w.a,{type:C.stdPoss.path,value:t.get("stdPosId")})}},{dataIndex:"skillLevel"},{dataIndex:"officeId",width:180},{dataIndex:"HCCategory",width:150},{dataIndex:"location",title:"Local/Expat"}],A=[{dataIndex:"annualSalary"},{dataIndex:"annualCola"},{dataIndex:"bonus"},{dataIndex:"directComp",width:130},{dataIndex:"benefits"},{dataIndex:"directLabor",width:130}],$=function(e){return function(t){return isNaN(t[e])||parseFloat(t[e])<=0}},H=[{dataIndex:"po",title:"PO #",hasRender:!0,render:function(e,t,n){return"PO "+(n+1)}},{dataIndex:"gross",Component:b.c,disabled:$("gross")},{dataIndex:"incentive",Component:b.c,disabled:$("incentive")},{dataIndex:"grandTotal",Component:b.c,disabled:$("grandTotal")},{dataIndex:"production",Component:b.c,disabled:$("production")},{dataIndex:"travel",Component:b.c,disabled:$("travel")},{dataIndex:"media",Component:b.c,disabled:$("media")},{dataIndex:"total",Component:b.c,disabled:$("total")},{dataIndex:"filePath",hasRender:!0,render:function(e){return m.a.createElement("a",{href:""+v.d+e,target:"blank"},"View")}}],V=[{dataIndex:"name",path:["sow"],width:130},{dataIndex:"version",path:["sow"]},{dataIndex:"clientId",path:["sow"]},{dataIndex:"FTE"},{dataIndex:"net",title:"Client Net"},{dataIndex:"tax",title:"Client Tax"},{dataIndex:"gross",title:"Client Gross"},{dataIndex:"incentive",title:"Client Incentive",width:130},{dataIndex:"grandTotal"}],q=[{dataIndex:"name",title:"Position",width:120,render:function(e,t){return m.a.createElement(y.Link,{to:location.pathname.replace(/\/$/,"")+"/"+t.id},t.name)}},{dataIndex:"companyId"},{dataIndex:"titleId"},{dataIndex:"teamId",render:function(e,t){return m.a.createElement(w.a,{type:C.teams.path,value:t.teamId})}},{dataIndex:"fordFunctionId",width:200}]},710:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(81),y=n.n(h),g=n(1),v=n.n(g),b=n(12),I=n(86),E=n(288),w=n(20),S=n(130),C=n(23),x=n(13),T=n(7),P=n.n(T),k=n(14),R=k.a.setting,_=new w.a(S.a);_.updateForm({id:{disabled:!0}});var O={year:P()().format("YYYY")},F=m.a.createElement(b.Button,{type:"primary",size:"large",onClick:function(){return x.browserHistory.push("/"+R.path+"/"+R.company.path+"/"+R.company.create.path)}},"Create"),N=new w.a(S.b),D=function(e){function t(){var e,a,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return a=r=l()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={},r.onSave=function(e,t){e.companyId=r.props.params.id;var a=function(e){return e.error||(r.props.dispatch(n.i(C.G)()),r.setState(function(n){return{details:y()(n.details,{$splice:[[t,1,e]]})}})),e};return e.id?n.i(C.H)(e).then(a):n.i(C.I)(e).then(a)},o=a,l()(r,o)}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;n.i(C.J)(this.props.params.id).then(function(t){t.error?b.message.error(t.error.message):e.setState({details:t.companyDetails})})}},{key:"render",value:function(){return console.log("company Update props=",this.props),m.a.createElement(E.a,r()({},this.props,{extra:F,columns:_.form}),m.a.createElement(I.a,{initial:O,columns:N.table,onSave:this.onSave,dataSource:this.state.details}))}}]),t}(m.a.PureComponent);D.propTypes={onSave:v.a.func.isRequired},t.a=D},711:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(87),i=n(13),s=n(14),c=n(130),u=n(20),l=n(23),d=s.a.setting,p=new u.a(c.c),f=function(e){return{onCreate:function(){return i.browserHistory.push("/"+d.path+"/"+d.company.path+"/"+d.company.create.path)},onChange:function(t,a,r){Object.keys(a).length>0&&a.year&&e(n.i(l.G)({year:a.year[0]}))}}},m=function(e){return{dataSource:e[d.path].get(d.company.path),columns:p.table,searchColumns:c.d}};t.a=n.i(r.connect)(m,f)(o.a)},712:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(288),i=n(13),s=n(14),c=n(23),u=s.a.setting,l=function(e){return{onSave:function(t){return e(n.i(c.K)(t)).then(function(e){return console.log("onsave ==",e),e.error||i.browserHistory.push("/"+u.path+"/"+u.company.path+"/"+t.id),e})}}};t.a=n.i(r.connect)(null,l)(o.a)},713:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(12)),o=n(17),i=n(710),s=n(23),c=n(14),u=n(30),l=c.a.setting,d=function(e,t){return{dispatch:e,onSave:function(t){return e(n.i(s.F)(t)).then(function(e){return e.error||r.message.success(u.j.saveSuccess,1),e})}}},p=function(e,t){return{$initialValue:e[l.path].getIn([l.company.path,t.params.id])}};t.a=n.i(o.connect)(p,d)(i.a)},714:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(81),y=n.n(h),g=n(1),v=n.n(g),b=n(12),I=n(86),E=n(289),w=n(20),S=n(168),C=n(23),x=n(13),T=n(7),P=n.n(T),k=n(14),R=k.a.setting,_={year:P()().format("YYYY")},O=m.a.createElement(b.Button,{type:"primary",size:"large",onClick:function(){return x.browserHistory.push("/"+R.path+"/"+R.currency.path+"/"+R.currency.create.path)}},"Create"),F=new w.a(S.a),N=function(e){function t(){var e,a,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return a=r=l()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={},r.onSave=function(e,t){e.currencyId=r.props.params.id;var a=function(e){return e.error||(r.props.dispatch(n.i(C.g)()),r.setState(function(n){return{details:y()(n.details,{$splice:[[t,1,e]]})}})),e};return e.id?n.i(C.h)(e).then(a):n.i(C.i)(e).then(a)},o=a,l()(r,o)}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;n.i(C.j)(this.props.params.id).then(function(t){t.error?b.message.error(t.error.message):e.setState({details:t.currencyDetails})})}},{key:"render",value:function(){return console.log("currency Update props=",this.props),m.a.createElement(E.a,r()({},this.props,{extra:O}),m.a.createElement(I.a,{initial:_,columns:F.table,onSave:this.onSave,dataSource:this.state.details}))}}]),t}(m.a.PureComponent);N.propTypes={onSave:v.a.func},t.a=N},715:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(289),i=n(13),s=n(14),c=n(23),u=s.a.setting,l=function(e){return{onSave:function(t){return e(n.i(c.k)(t)).then(function(e){return console.log("onsave ==",e),e.error||i.browserHistory.push("/"+u.path+"/"+u.currency.path+"/"+t.id),e})}}};t.a=n.i(r.connect)(null,l)(o.a)},716:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(87),i=n(13),s=n(14),c=n(168),u=n(20),l=n(23),d=s.a.setting,p=new u.a(c.c),f=function(e){return{onCreate:function(){return i.browserHistory.push("/"+d.path+"/"+d.currency.path+"/"+d.currency.create.path)},onChange:function(t,a,r){Object.keys(a).length>0&&a.year&&e(n.i(l.g)({year:a.year[0]}))}}},m=function(e){return{dataSource:e[d.path].get(d.currency.path),columns:p.table,searchColumns:c.d}};t.a=n.i(r.connect)(m,f)(o.a)},717:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(714),i=n(14),s=i.a.setting,c=function(e,t){return{$initialValue:e[s.path].getIn([s.currency.path,t.params.id])}};t.a=n.i(r.connect)(c)(o.a)},718:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(70),c=n(20),u=n(290),l=new c.a(u.a);t.a=function(e){return i.a.createElement(s.a,r()({columns:l.form},e))}},719:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(718),i=n(13),s=n(14),c=n(23),u=s.a.setting,l=function(e){return{onSave:function(t){return e(n.i(c.o)(t)).then(function(e){return e.error||i.browserHistory.push("/"+u.path+"/"+u.fordFunctions.path),e})}}};t.a=n.i(r.connect)(null,l)(o.a)},72:function(e,t,n){"use strict";function a(e,t,n){var a,r,o,i,s,c=function c(){var u=+new Date-i;u<t&&u>=0?a=setTimeout(c,t-u):(a=null,n||(s=e.apply(o,r),a||(o=r=null)))};return function(){o=this,r=arguments,i=+new Date;var u=n&&!a;return a||(a=setTimeout(c,t)),u&&(s=e.apply(o,r),o=r=null),s}}n.d(t,"a",function(){return r}),t.b=a;var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return function(t){return t.reduce(function(t,n){return t[n[e]]=n,t},{})}}},720:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(12),c=n(23),u=n(17),l=n(87),d=n(13),p=n(14),f=n(290),m=n(20),h=p.a.setting,y=new m.a(f.b),g=function(e){return{dispatch:e,onCreate:function(){return d.browserHistory.push("/"+h.path+"/"+h.fordFunctions.path+"/"+h.fordFunctions.create.path)},onChange:function(t,a,r){Object.keys(a).length>0&&a.year&&e(n.i(c.p)({year:a.year[0]}))}}},v=function(e){return{dataSource:e[h.path].get(h.fordFunctions.path),columns:y.table,searchColumns:f.c}};t.a=n.i(u.connect)(v,g)(function(e){return i.a.createElement(l.a,r()({},e,{columns:y.updateTable({operation:{render:function(t,a){return i.a.createElement(s.Switch,{onChange:function(t){t?e.dispatch(n.i(c.q)(a.get("id"))):e.dispatch(n.i(c.r)(a.get("id")))},defaultChecked:!!a.get("status"),checkedChildren:i.a.createElement(s.Icon,{type:"check"}),unCheckedChildren:i.a.createElement(s.Icon,{type:"cross"})})}}})}))})},721:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(81),y=n.n(h),g=n(1),v=n.n(g),b=n(12),I=n(86),E=n(291),w=n(20),S=n(131),C=n(23),x=n(13),T=n(7),P=n.n(T),k=n(14),R=new w.a(S.a);R.updateForm({id:{disabled:!0}});var _=k.a.setting,O={year:P()().format("YYYY")},F=m.a.createElement(b.Button,{type:"primary",size:"large",onClick:function(){return x.browserHistory.push("/"+_.path+"/"+_.offices.path+"/"+_.offices.create.path)}},"Create"),N=new w.a(S.b),D=function(e){function t(){var e,a,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return a=r=l()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={},r.onSave=function(e,t){e.officeId=r.props.params.id;var a=function(e){return e.error||(r.props.dispatch(n.i(C.t)()),r.setState(function(n){return{details:y()(n.details,{$splice:[[t,1,e]]})}})),e};return e.id?n.i(C.u)(e).then(a):n.i(C.v)(e).then(a)},o=a,l()(r,o)}return p()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;n.i(C.w)(this.props.params.id).then(function(t){t.error?b.message.error(t.error.message):e.setState({details:t.officeDetails})})}},{key:"render",value:function(){return m.a.createElement(E.a,r()({},this.props,{extra:F,columns:R.form}),m.a.createElement(I.a,{initial:O,columns:N.table,onSave:this.onSave,dataSource:this.state.details}))}}]),t}(m.a.PureComponent);D.propTypes={onSave:v.a.func.isRequired},t.a=D},722:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(291),i=n(13),s=n(14),c=n(23),u=s.a.setting,l=function(e){return{onSave:function(t){return e(n.i(c.x)(t)).then(function(e){return console.log("onsave ==",e),e.error||i.browserHistory.push("/"+u.path+"/"+u.offices.path+"/"+t.id),e})}}};t.a=n.i(r.connect)(null,l)(o.a)},723:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(87),i=n(13),s=n(14),c=n(131),u=n(20),l=n(23),d=s.a.setting,p=new u.a(c.c),f=function(e){return{onCreate:function(){return i.browserHistory.push("/"+d.path+"/"+d.offices.path+"/"+d.offices.create.path)},onChange:function(t,a,r){Object.keys(a).length>0&&a.year&&e(n.i(l.t)({year:a.year[0]}))}}},m=function(e){return{dataSource:e[d.path].get(d.offices.path),columns:p.table,searchColumns:c.d}};t.a=n.i(r.connect)(m,f)(o.a)},724:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(12)),o=n(17),i=n(721),s=n(23),c=n(14),u=n(30),l=c.a.setting,d=function(e,t){return{dispatch:e,onSave:function(t){return e(n.i(s.s)(t)).then(function(e){return e.error||r.message.success(u.j.saveSuccess,1),e})}}},p=function(e,t){return{$initialValue:e[l.path].getIn([l.offices.path,t.params.id])}};t.a=n.i(o.connect)(p,d)(i.a)},725:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(24),i=n.n(o),s=n(3),c=n.n(s),u=n(6),l=n.n(u),d=n(5),p=n.n(d),f=n(4),m=n.n(f),h=n(0),y=n.n(h),g=n(1),v=n.n(g),b=n(34),I=n.n(b),E=n(12),w=n(56),S=n(26),C=n.n(S),x=n(51),T=n(285),P=n(169),k=n(20),R=n(23),_=n.i(T.a)(x.a),O=new k.a(P.c),F=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m()(t,e),l()(t,[{key:"componentWillMount",value:function(){var e=this;O.updateTable({index:{render:function(t,a,r){return y.a.createElement("div",{className:"index-box"},y.a.createElement("span",{className:"index-num"}," ",a.get("index")),y.a.createElement(E.Icon,{type:"up-square",className:1===a.get("index")?"disabled":"",onClick:function(){return e.props.dispatch(n.i(R.n)({type:"up",id:a.get("id"),index:a.get("index")}))}}),y.a.createElement(E.Icon,{type:"down-square",className:a.get("index")===e.props.dataSourceSize?"disabled":"",onClick:function(){return e.props.dispatch(n.i(R.n)({type:"down",id:a.get("id"),index:a.get("index")}))}}))}}})}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.onCreate,a=i()(e,["location","onCreate"]);return y.a.createElement(w.b,{autoHeight:!1,header:y.a.createElement(w.a,{extra:y.a.createElement(E.Button,{type:"primary",size:"large",onClick:n},"Create"),location:t})},y.a.createElement(_,r()({className:"table-data"},a,{columns:O.table})))}}]),t}(y.a.PureComponent);F.defaultProps={dataSource:C.a.Map()},F.propTypes={dataSourceSize:v.a.number.isRequired,searchColumns:v.a.array.isRequired,location:v.a.object.isRequired,onCreate:v.a.func.isRequired,dataSource:I.a.map},t.a=F},726:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(0),i=n.n(o),s=n(70),c=n(20),u=n(169),l=new c.a(u.a);t.a=function(e){return i.a.createElement(s.a,r()({columns:l.form},e))}},727:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(726),i=n(13),s=n(14),c=n(23),u=s.a.setting,l=function(e){return{onSave:function(t){return e(n.i(c.l)(t)).then(function(e){return console.log("onsave ==",e),e.error||i.browserHistory.push("/"+u.path+"/"+u.salaryTypes.path),e})}}};t.a=n.i(r.connect)(null,l)(o.a)},728:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(725),i=n(13),s=n(14),c=n(169),u=n(23),l=n(900),d=(n.n(l),s.a.setting),p=function(e){return{dispatch:e,onCreate:function(){return i.browserHistory.push("/"+d.path+"/"+d.salaryTypes.path+"/"+d.salaryTypes.create.path)},onChange:function(t,a,r){Object.keys(a).length>0&&a.year&&e(n.i(u.m)({year:a.year[0]}))}}},f=function(e){var t=e[d.path].get(d.salaryTypes.path),n=void 0,a=0;return t&&(n=t.sortBy(function(e){return e.get("index")}),a=t.size),{dataSource:n,dataSourceSize:a,searchColumns:c.b}};t.a=n.i(r.connect)(f,p)(o.a)},729:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(24),i=n.n(o),s=n(3),c=n.n(s),u=n(6),l=n.n(u),d=n(5),p=n.n(d),f=n(4),m=n.n(f),h=n(0),y=n.n(h),g=n(81),v=n.n(g),b=n(1),I=n.n(b),E=n(12),w=n(86),S=n(292),C=n(20),x=n(170),T=n(23),P=n(13),k=n(7),R=n.n(k),_=n(14),O=n(47),F=n(33),N=_.a.setting,D={year:R()().format("YYYY")},j=y.a.createElement(E.Button,{type:"primary",size:"large",onClick:function(){return P.browserHistory.push("/"+N.path+"/"+N.stdPoss.path+"/"+N.stdPoss.create.path)}},"Create"),M=new C.a(x.a),L=function(e){function t(){var e,a,r,o;c()(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return a=r=p()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={details:null,showAllSalary:!1},r.getDetailColumns=function(e){return e?new C.a(e.sortBy(function(e){return e.get("index")}).toArray().map(function(e){var t=e.get("id"),n={title:t,dataIndex:t,type:"money",Component:O.c};return t&&t.length>7&&(n.width=8*t.length+25),n})).table:[]},r.fetchDetail=function(e){e&&n.i(T.b)(e).then(function(e){if(e.error)E.message.error(e.error.message);else{var t=e.stdPosDetails.map(function(e){var t=e.stdPosPrices,a=i()(e,["stdPosPrices"]);return Object.assign({},n.i(F.d)(t),a)});r.setState({details:t})}})},r.onSave=function(e,t){var a=e.id,o=(e.stdPosId,e.skillLevel),s=e.year,c=i()(e,["id","stdPosId","skillLevel","year"]);c&&(c=n.i(F.e)(c));var u={skillLevel:o,year:s,stdPosId:r.props.$initialValue.get("id"),stdPosPrices:c},l=function(e){if(!e.error){r.props.dispatch(n.i(T.c)());var a=e.stdPosPrices,o=i()(e,["stdPosPrices"]),s=Object.assign({},o,n.i(F.d)(a));r.setState(function(e){return{details:v()(e.details,{$splice:[[t,1,s]]})}})}return e};return a?n.i(T.d)(Object.assign({id:a},u)).then(l):n.i(T.e)(u).then(l)},r.onChangeSwitch=function(e){return r.setState({showAllSalary:e})},o=a,p()(r,o)}return m()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){(!this.props.$initialValue&&e.$initialValue||e.$initialValue.get("id")!==this.props.$initialValue.get("id"))&&this.fetchDetail(e.$initialValue.get("id")),e.$salary!==this.props.$salary&&(this.salaryColumns=this.getDetailColumns(e.$salary))}},{key:"componentWillMount",value:function(){this.salaryColumns=this.getDetailColumns(this.props.$salary)}},{key:"componentDidMount",value:function(){this.fetchDetail(this.props.$initialValue&&this.props.$initialValue.get("id"))}},{key:"render",value:function(){var e=this.state,t=e.details,n=e.showAllSalary,a=M.table;if(this.salaryColumns){var o=this.salaryColumns;if(Array.isArray(t)&&!n){var i=Object.keys(t.reduce(function(e,t){return Object.assign({},e,t)},{}));o=o.filter(function(e){return i.indexOf(e.dataIndex)>-1})}a=a.concat(o)}return y.a.createElement(S.a,r()({},this.props,{extra:j}),y.a.createElement(w.a,{initial:D,columns:a,onSave:this.onSave,dataSource:t}),y.a.createElement("span",{style:{marginLeft:20}},y.a.createElement(E.Switch,{onChange:this.onChangeSwitch,checkedChildren:y.a.createElement(E.Icon,{type:"check"}),unCheckedChildren:y.a.createElement(E.Icon,{type:"cross"})})," All Salary"))}}]),t}(y.a.PureComponent);L.propTypes={onSave:I.a.func},t.a=L},730:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(292),i=n(13),s=n(14),c=n(23),u=s.a.setting,l=function(e){return{onSave:function(t){return e(n.i(c.f)(t)).then(function(e){return e.error||i.browserHistory.push("/"+u.path+"/"+u.stdPoss.path+"/"+t.name),e})}}};t.a=n.i(r.connect)(null,l)(o.a)},731:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(87),i=n(13),s=n(14),c=n(170),u=n(20),l=n(23),d=s.a.setting,p=new u.a(c.c),f=function(e){return{onCreate:function(){return i.browserHistory.push("/"+d.path+"/"+d.stdPoss.path+"/"+d.stdPoss.create.path)},onChange:function(t,a,r){Object.keys(a).length>0&&a.year&&e(n.i(l.c)({year:a.year[0]}))}}},m=function(e){return{dataSource:e[d.path].get(d.stdPoss.path),columns:p.table,searchColumns:c.d}};t.a=n.i(r.connect)(m,f)(o.a)},732:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(729),i=n(14),s=i.a.setting,c=function(e,t){return{$salary:e[s.path].get(s.salaryTypes.path),$initialValue:e[s.path].get(s.stdPoss.path)&&e[s.path].get(s.stdPoss.path).find(function(e){return e.get("name")===t.params.id})}};t.a=n.i(r.connect)(c)(o.a)},733:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(14)),o=n(711),i=n(712),s=n(713),c=n(707),u=n(708),l=n(709),d=n(723),p=n(722),f=n(724),m=n(720),h=n(719),y=n(716),g=n(715),v=n(717),b=n(728),I=n(727),E=n(731),w=n(730),S=n(732),C=r.a.setting;t.a={path:C.path,indexRoute:{onEnter:function(e,t){t("/"+C.path+"/"+C.company.path)}},childRoutes:[{path:C.company.path,indexRoute:{component:o.a},childRoutes:[{path:"create",component:i.a},{path:":id",component:s.a}]},{path:C.clients.path,indexRoute:{component:c.a},childRoutes:[{path:"create",component:u.a},{path:":id",component:l.a}]},{path:C.offices.path,indexRoute:{component:d.a},childRoutes:[{path:"create",component:p.a},{path:":id",component:f.a}]},{path:C.fordFunctions.path,indexRoute:{component:m.a},childRoutes:[{path:"create",component:h.a}]},{path:C.salaryTypes.path,indexRoute:{component:b.a},childRoutes:[{path:"create",component:I.a}]},{path:C.currency.path,indexRoute:{component:y.a},childRoutes:[{path:"create",component:g.a},{path:":id",component:v.a}]},{path:C.stdPoss.path,indexRoute:{component:E.a},childRoutes:[{path:"create",component:w.a},{path:":id",component:S.a}]}]}},734:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(0),p=n.n(d),f=n(12),m=n(1),h=n.n(m),y=n(20),g=n(51),v=n(71),b=n(44),I=n(34),E=n.n(I),w=new y.a(v.f),S=function(e){function t(){var e,a,o,i;r()(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return a=o=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={visible:!1,position:[]},o.fetchPosition=function(){n.i(b.g)({year:o.props.year}).then(function(e){e.error||o.setState({position:e.objs.filter(function(e){return!o.props.positionList.includes(e.id)})})})},o.onEdit=function(){o.fetchPosition(),o.setState({visible:!0})},o.onCancel=function(){return o.setState({visible:!1})},i=a,c()(o,i)}return l()(t,e),i()(t,[{key:"render",value:function(){var e=this.state,t=e.visible,n=e.position;return console.log("positionList",this.props.positionList.toJS()),p.a.createElement(f.Button,{size:"large",onClick:this.onEdit},"绑定",p.a.createElement(f.Modal,{visible:t,maskClosable:!1,onCancel:this.onCancel,title:"绑定已有Position",width:900,footer:p.a.createElement(f.Button,{onClick:this.onCancel},"Close")},p.a.createElement(g.c,{columns:w.table,dataSource:n})))}}]),t}(p.a.PureComponent);S.propTypes={positionList:E.a.list.isRequired,year:h.a.number},t.a=S},735:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(0),p=n.n(d),f=n(12),m=n(1),h=n.n(m),y=n(20),g=n(51),v=n(71),b=n(44),I=n(34),E=n.n(I),w=n(26),S=n.n(w),C=n(335),x=(n.n(C),new y.a(v.m)),T={},P=function(e){function t(){var e,a,o,i;r()(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return a=o=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={visible:!1,dataSource:[]},o.getNewSow=function(e){if(e.target){var t=e.target.get("id"),a=e.target.get("year");T[t]?o.setState({dataSource:[e.target,T[t]]}):n.i(b.v)({targetSowId:t,year:a}).then(function(n){n.error?f.message.error(n.error.message):(T[t]=S.a.Map(n),o.setState({dataSource:[e.target,T[t]]}))})}},o.onCopyClick=function(){o.getNewSow(o.props),o.setState({visible:!0})},o.onCancel=function(){return o.setState({visible:!1})},o.onOk=function(){o.props.copyCommitSow({targetSowId:o.props.target.get("id")}).then(function(e){e.error||o.setState({visible:!1})})},i=a,c()(o,i)}return l()(t,e),i()(t,[{key:"render",value:function(){var e=this.state,t=e.visible,n=e.dataSource;return p.a.createElement(f.Button,{onClick:this.onCopyClick,disabled:!this.props.target},"Copy",p.a.createElement(f.Modal,{visible:t,onOk:this.onOk,onCancel:this.onCancel,title:"Copy SOW",width:800},p.a.createElement(g.b,{rowClassName:function(e,t){return"copySow"+t},columns:x.table,dataSource:n,className:"table-data"})))}}]),t}(p.a.PureComponent);P.propTypes={target:E.a.map,copyCommitSow:h.a.func},t.a=P},736:function(e,t,n){"use strict";var a=n(9),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(1),y=n.n(h),g=(n(12),n(51)),v=n(44),b=n(72),I=n(20),E=n(47),w=new I.a([{dataIndex:"annualSalary"},{dataIndex:"annualCola"},{dataIndex:"bonus"},{dataIndex:"directComp",width:130},{dataIndex:"benefits"},{dataIndex:"directLabor",width:130},{dataIndex:"net"},{dataIndex:"tax"},{dataIndex:"gross"},{dataIndex:"budgetIncentive",width:150}]),S=["annualSalary","annualCola","bonus"],C=function(e){function t(){var e,a,o,s;i()(this,t);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return a=o=l()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.updateColumns=function(e){var t=S.reduce(function(t,n){return t[n]={render:function(t){return o.props.disabled?t:m.a.createElement(E.c,{key:""+n+e,onChange:o.onValueChange(n),defaultValue:t})}},t},{});w.updateTable(t)},o.onValueChange=function(e){return n.i(b.b)(function(t){var a=o.props,i=a.value,s=a.params,c=S.reduce(function(e,t){return e[t]=i[t],e},{}),u=Object.assign({adjustedBasicCost:JSON.stringify(Object.assign({},c,r()({},e,t)))},s);n.i(v.m)(u).then(function(e){e.error||(o.localUpdate=!0,o.props.onChange(e.obj))})},400)},s=a,l()(o,s)}return p()(t,e),c()(t,[{key:"componentWillMount",value:function(){this.updateColumns(),this.localUpdate=!1}},{key:"componentWillReceiveProps",value:function(e){e.value===this.props.value||this.localUpdate||this.updateColumns(+new Date),this.localUpdate=!1}},{key:"render",value:function(){var e=Object.assign({x:w.table.reduce(function(e,t){return isNaN(t.width)?e:e+t.width},0)},this.props.scroll),t=this.props.value;return m.a.createElement(g.c,{dataSource:t&&[t],scroll:e,columns:w.table,size:"small"})}}]),t}(m.a.PureComponent);C.propTypes={value:y.a.object},t.a=C},737:function(e,t,n){"use strict";var a=n(24),r=n.n(a),o=n(9),i=n.n(o),s=n(3),c=n.n(s),u=n(6),l=n.n(u),d=n(5),p=n.n(d),f=n(4),m=n.n(f),h=n(0),y=n.n(h),g=n(12),v=n(13),b=n(34),I=n.n(b),E=n(56),w=n(44),S=n(30),C=n(293),x=n(7),T=n.n(x),P=n(14),k=g.Select.Option,R=function(e){function t(e){c()(this,t);var a=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.fetchSow=function(){n.i(w.b)(a.props.params.id).then(function(e){var t,n=(t={},i()(t,S.a.rmb,e.currencys.find(function(e){return e.id===S.a.rmb}).currencyDetails[0]),i()(t,S.a.usd,e.currencys.find(function(e){return e.id===S.a.usd}).currencyDetails[0]),t);a.setState({rate:n,sow:e.sow})})},a.fetchNotes=function(){a.state.notesList.length<1&&n.i(w.p)().then(function(e){e.error||a.setState({notesList:e.objs})})},a.onCheckForm=function(){a.form.validateFields(function(e){e||(a.fetchNotes(),a.setState({visible:!0}))})},a.onSave=function(){var e=a.state,t=e.note,o=e.sow;if(!t)return g.message.error("缺少备注");a.form.validateFields(function(e,i){if(e)g.message.error(" Form validation error,Please check.");else{var s=i.budget,c=r()(i,["budget"]),u=T()(o.year,"YYYY"),l={year:o.year,noteContent:t,sowId:a.props.params.id,validDate:u.startOf("year").format("YYYY-MM-DD"),invalidDate:u.endOf("year").format("YYYY-MM-DD"),FTE:1};n.i(w.q)(Object.assign({},s,c,l)).then(function(e){e.error?g.message.error(e.error.message):v.browserHistory.push("/"+P.a.sow.path+"/"+a.props.params.id+"/"+e.obj.id)})}})},a.onCancel=function(){return a.setState({visible:!1})},a.onNoteChange=function(e){return a.setState({note:e})},a.state={visible:!1,sow:{},notesList:[],note:""},a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchSow()}},{key:"render",value:function(){var e=this,t=this.state,n=t.sow,a=t.visible,r=t.notesList,o=this.props.$setting,s=i()({},n.id,n.name),c=y.a.createElement(E.a,{location:location,title:s});return y.a.createElement(E.b,{header:c},y.a.createElement(C.b,{sow:n,$setting:o,ref:function(t){return e.form=t}}),y.a.createElement("div",{className:"form-action",style:{marginLeft:20,marginRight:40}},y.a.createElement(g.Button,{onClick:this.onCheckForm,type:"primary",size:"large"},"Save")),y.a.createElement(g.Modal,{title:"请填写备注",visible:a,onCancel:this.onCancel,onOk:this.onSave},y.a.createElement("div",{style:{width:"60%",margin:"30px auto"}},"备注：",y.a.createElement(g.Select,{mode:"combobox",showSearch:!0,dropdownMatchSelectWidth:!1,size:"large",onChange:this.onNoteChange,style:{width:250}},r.map(function(e){return y.a.createElement(k,{key:e.noteContent},e.noteContent)})))))}}]),t}(y.a.PureComponent);R.propTypes={$setting:I.a.map.isRequired},t.a=R},738:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(1),y=n.n(h),g=n(34),v=n.n(g),b=n(167),I=n(26),E=(n.n(I),function(e){function t(){var e,n,a,r;i()(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=a=l()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.setInitialValue=function(e){if(e.$initialValue&&a.form){var t=a.props.columns.map(function(e){return e.get("dataIndex")}),n=e.$initialValue.filter(function(e,n){return t.indexOf(n)>-1}).toJS();a.form.setFieldsValue(n)}},a.onSave=function(){a.form.validateFields(function(e,t){e||a.props.onSave(t)})},r=n,l()(a,r)}return p()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.$initialValue!==e.$initialValue&&this.setInitialValue(e)}},{key:"componentDidMount",value:function(){this.props.$initialValue&&this.setInitialValue(this.props)}},{key:"render",value:function(){var e=this;return m.a.createElement(b.a,r()({wrappedComponentRef:function(t){return e.form=t.props.form},layout:"inline"},this.props))}}]),t}(m.a.PureComponent));E.propTypes={$initialValue:v.a.map,onSave:y.a.func,columns:y.a.array.isRequired},t.a=E},739:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(0),p=n.n(d),f=n(12),m=n(1),h=n.n(m),y=n(20),g=n(33),v=n(167),b=n(71),I=n(34),E=n.n(I),w=n(335),S=(n.n(w),new y.a(b.d)),C=function(e){function t(){var e,a,o,i;r()(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return a=o=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={visible:!1},o.setInitialValue=function(e){if(e.$initialValue&&o.form){var t=S.form.map(function(e){return e.get("dataIndex")}),n=e.$initialValue.filter(function(e,n){return t.indexOf(n)>-1}).toJS();o.form.setFieldsValue(n)}},o.onSave=function(){o.form.validateFields(function(e,t){if(!e){console.log("value==",t);var n=o.props.$initialValue.get("id");o.props.onSave(Object.assign({},t,{id:n})).then(function(e){e.error||o.setState({visible:!1})})}})},o.onEdit=function(){o.setState({visible:!0},function(){return o.setInitialValue(o.props)})},o.onCancel=function(){return o.setState({visible:!1})},o.onValuesChange=function(e){if(o.form){var t=Object.keys(e)[0],a=["CRM","traditional","digital"],r=["media","travel"];if(!(a.concat(r).indexOf(t)<0)){var i=Object.assign({},o.form.getFieldsValue(),e),s=a.reduce(function(e,t){return isNaN(i[t])?e:e+parseFloat(i[t])},0),c=r.reduce(function(e,t){return isNaN(i[t])?e:e+parseFloat(i[t])},s);s=n.i(g.a)(s),c=n.i(g.a)(c),o.form.setFieldsValue({production:s,total:c})}}},i=a,c()(o,i)}return l()(t,e),i()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.$initialValue!==e.$initialValue&&this.setInitialValue(e)}},{key:"componentDidMount",value:function(){this.props.$initialValue&&this.setInitialValue(this.props)}},{key:"render",value:function(){var e=this,t=this.state.visible;return p.a.createElement("a",{onClick:this.onEdit},"Pass Through Edit",p.a.createElement(f.Modal,{visible:t,maskClosable:!1,onOk:this.onSave,onCancel:this.onCancel,title:"Pass Through Edit",width:900},p.a.createElement(v.a,{onValuesChange:this.onValuesChange,columns:S.form,wrappedComponentRef:function(t){return e.form=t.props.form},layout:"inline"})))}}]),t}(p.a.PureComponent);C.propTypes={$initialValue:E.a.map,onSave:h.a.func},t.a=C},740:function(e,t,n){"use strict";var a,r=n(40),o=n.n(r),i=n(2),s=n.n(i),c=n(3),u=n.n(c),l=n(6),d=n.n(l),p=n(5),f=n.n(p),m=n(4),h=n.n(m),y=n(9),g=n.n(y),v=n(0),b=n.n(v),I=n(1),E=n.n(I),w=n(81),S=n.n(w),C=n(13),x=n(12),T=n(34),P=n.n(T),k=n(26),R=n.n(k),_=n(56),O=n(51),F=n(71),N=n(44),D=n(20),j=n(103),M=n(30),L=n(33),A=n(72),$=n(742),H=n(743),V=n(734),q=x.Select.Option,B=new D.a(F.a),U=new D.a(F.b),Y=new D.a(F.c),z=[{name:"submit",title:"提交",type:"primary"},{name:"fdApprove",title:"批准"},{name:"fdRefuse",title:"拒绝",type:"danger"},{name:"clientApprove",title:"客户批准"},{name:"clientRefuse",title:"客户拒绝",type:"danger"}],G=(a={},g()(a,M.a.rmb,M.a.fordRateToRMB),g()(a,M.a.usd,M.a.fordRateToUSD),a),W=function(e){function t(e){u()(this,t);var a=f()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.fetchSow=function(){n.i(N.b)(a.props.params.id).then(function(e){var t=e.sow,r=t.positions;delete t.positions,a.$positions=R.a.fromJS(r),a.setState({$positions:a.$positions,$sow:R.a.fromJS(t),$currency:R.a.fromJS(n.i(A.a)()(e.currencys)),currency:t.currencyId})})},a.onCurrencyChange=function(e){return a.setState({currency:e})},a.onCreate=function(){return C.browserHistory.push(a.props.location.pathname+"/create")},a.onSwitchChange=function(e){return function(t){return a.setState(g()({},e,t))}},a.onFlow=function(e){return function(){return n.i(N.c)(e+a.state.$sow.get("id")).then(function(e){e.error?x.message.error(e.error.message):a.fetchSow()})}},a.checkFlowDisabled=function(e){if(!a.props.$transitions)return!0;var t=a.props.$transitions.find(function(t){return t.get("name")===e}).get("from"),n=a.state.$sow.get("flowStatus");return"string"==typeof t?t!==n:R.a.List.isList(t)?t.every(function(e){return e!==a.state.$sow.get("flowStatus")}):void 0},a.onFilterDropdownVisibleChange=function(e){return function(t){a.setState(function(n){return{filterDropdownVisible:Object.assign({},n.filterDropdownVisible,g()({},e,t))}},function(){return a.searchInput.focus()})}},a.onSearchChange=function(e){return function(t){var n=t.target&&t.target.value;console.log("value",n),a.setState(function(t){return{searchText:Object.assign({},t.searchText,g()({},e,n))}})}},a.onSearchSubmit=function(e){return function(){var t=a.state.searchText;a.setState(function(n){return{filterDropdownVisible:Object.assign({},n.filterDropdownVisible,g()({},e,!1)),filtered:Object.assign({},n.filtered,g()({},e,!!t[e])),$positions:a.$positions.filter(function(n){return new RegExp(t[e],"gi").test(n.get(e))})}})}},a.onClearFilter=function(){return a.setState({filteredInfo:{},searchText:{},filtered:{}},a.onSearchSubmit())},a.tableOnchange=function(e,t,n){console.log("Various parameters",e,t,n),a.setState({filteredInfo:t})},a.state={$positions:R.a.List(),$sow:R.a.Map(),$currency:R.a.List(),currency:"USD",hasMore:!1,hasSalary:!1,filterDropdownVisible:{},filtered:{},searchText:{}},a.FilterInput=function(e){return b.a.createElement("div",{className:"custom-filter-dropdown"},b.a.createElement(x.Input,s()({style:{width:120},ref:function(e){return a.searchInput=e},placeholder:"Search"},e)),b.a.createElement(x.Button,{type:"primary",size:"small",onClick:e.onPressEnter},"Search"))},a}return h()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.fetchSow()}},{key:"render",value:function(){var e,t,a=this,r=this.state,i=r.$sow,c=r.$positions,u=r.$currency,l=r.currency,d=r.hasMore,p=r.hasSalary,f=r.filterDropdownVisible,m=r.searchText,h=r.filteredInfo,y=void 0===h?{}:h,v=this.props,I=v.location,E=v.adjustMoneyUSD,w=this.FilterInput;console.log("$positions=",c.toJS());var T=i.get("flowStatus")!==M.b.disabled&&i.get("sowType")!==M.c.letGo,P=T&&i.get("sowType")!==M.c.inHouse,k=g()({},i.get("id"),i.get("name")),R=b.a.createElement("span",null,T&&b.a.createElement(x.Button,{type:"primary",size:"large",onClick:this.onCreate},"Create"),P&&b.a.createElement(V.a,{year:i.get("year"),positionList:c.map(function(e){return e.getIn(["sowPosition","positionId"])})})),F=b.a.createElement(_.a,{extra:R,location:I,title:k},b.a.createElement("span",{className:"header-item"},"Client: ",i.get("clientId")),b.a.createElement("span",{className:"header-item"},"Year: ",i.get("year")),b.a.createElement("span",{className:"header-item"},"Version: ",i.get("version")),b.a.createElement("span",{className:"header-item"},"Status:",b.a.createElement("span",{className:i.get("flowStatus")===M.b.disabled?"highlight":""}," ",i.get("flowStatus")))),D=function(e){return{filterIcon:b.a.createElement(x.Icon,{type:"search",style:{color:a.state.filtered[e]?"#108ee9":"#aaa"}}),filterDropdown:b.a.createElement(w,{value:m[e],onChange:a.onSearchChange(e),onPressEnter:a.onSearchSubmit(e)}),filterDropdownVisible:f[e],onFilterDropdownVisibleChange:a.onFilterDropdownVisibleChange(e)}},A={},W={};c&&c.forEach(function(e){A[e.get("companyId")]=e.get("companyId"),W[e.get("sowLevel")]=e.get("sowLevel")}),B.updateTable({name:Object.assign({render:function(e,t){return i.get("flowStatus")===M.b.disabled?t.get("name"):b.a.createElement(C.Link,{to:I.pathname.replace(/\/$/,"")+"/"+t.get("id")},t.get("name"))}},D("name")),expectStaffId:Object.assign({},D("expectStaffId")),teamId:Object.assign({},D("teamId")),titleId:Object.assign({},D("titleId")),fordFunctionId:Object.assign({},D("fordFunctionId")),companyId:{filters:Object.keys(A).map(function(e){return{text:e,value:e}}),filteredValue:y.companyId||null,onFilter:function(e,t){return t.includes(e)}},sowLevel:{filters:Object.keys(W).map(function(e){return{text:e,value:e}}),filteredValue:y.sowLevel||null,onFilter:function(e,t){return t.includes(e)}}});var J=B.table;if(d){U.updateTable();var K=J.findIndex(function(e){return"currencyId"===e.dataIndex});J=S()(J,{$splice:[[K,0].concat(o()(U.table))]})}if(p){Y.updateTable();var X=J.findIndex(function(e){return"FTE"===e.dataIndex});J=S()(J,{$splice:[[X,0].concat(o()(Y.table))]})}var Q=function(e){return u.getIn([e,"currencyDetails",0,G[l]])},Z=(e={},g()(e,M.a.rmb,Q(M.a.rmb)),g()(e,M.a.usd,Q(M.a.usd)),e),ee=n.i(N.d)({rate:Z,targetCurrency:l,columns:J,$dataSource:c}),te=(t={},g()(t,M.a.usd,E),g()(t,M.a.rmb,n.i(L.a)(E/Z[M.a.rmb])),t);return console.log(te,"this.props",this.props),b.a.createElement(_.b,{autoHeight:!1,header:F},b.a.createElement("div",{className:"flex-box"},b.a.createElement("div",{className:"flex-header sow-header"},z.map(function(e){return b.a.createElement($.a,{key:e.name,title:e.title,type:e.type,disabled:a.checkFlowDisabled(e.name),onConfirm:a.onFlow(j.a.sow[e.name])})}),b.a.createElement("span",{className:"item"},b.a.createElement(C.Link,{to:I.pathname.replace(/\/$/,"")+"/entry-po"},b.a.createElement(x.Button,{size:"small",disabled:this.checkFlowDisabled("collectPO")},"录入PO"))),b.a.createElement("span",{className:"item"},b.a.createElement(H.a,{adjustMoney:te,id:this.props.params.id,$sow:i})),b.a.createElement("span",{className:"item"}," Set Currency: ",b.a.createElement(x.Select,{value:l,onChange:this.onCurrencyChange,style:{width:80}},b.a.createElement(q,{value:"RMB"},"RMB"),b.a.createElement(q,{value:"USD"},"USD"),b.a.createElement(q,{value:"LOCAL"},"LOCAL"))),b.a.createElement("span",{className:"item"},"More Attributes:",b.a.createElement(x.Switch,{onChange:this.onSwitchChange("hasMore"),checked:d})),b.a.createElement("span",{className:"item"},"More Salary:",b.a.createElement(x.Switch,{onChange:this.onSwitchChange("hasSalary"),checked:p})),b.a.createElement("span",{className:"item"},b.a.createElement(x.Button,{size:"small",onClick:this.onClearFilter},"Clear filters"))),b.a.createElement("div",{className:"flex-content"},b.a.createElement(O.a,s()({titleHeight:110,rowClassName:function(e){return"row-"+e.get("flowStatus")},className:"table-data",onChange:this.tableOnchange},ee)))))}}]),t}(b.a.PureComponent);W.propTypes={$transitions:P.a.list,adjustMoneyUSD:E.a.number},t.a=W},741:function(e,t,n){"use strict";var a=n(9),r=n.n(a),o=n(2),i=n.n(o),s=n(3),c=n.n(s),u=n(6),l=n.n(u),d=n(5),p=n.n(d),f=n(4),m=n.n(f),h=n(0),y=n.n(h),g=n(13),v=n(12),b=n(1),I=(n.n(b),n(34)),E=n.n(I),w=n(26),S=(n.n(w),n(56)),C=n(44),x=(n(72),n(33)),T=n(30),P=n(69),k=n(47),R=n(14),_=n(336),O=(n.n(_),R.a.setting),F=v.Form.Item,N=v.Checkbox.Group,D=(v.Select.Option,0),j=[{label:"Gross Fee",value:"gross"},{label:"Incentive",value:"incentive"},{label:"Production",value:"production"},{label:"Travel",value:"travel"},{label:"Media",value:"media"}],M={labelCol:{span:9},wrapperCol:{span:15}},L=function(e){return function(t){function n(){return c()(this,n),p()(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return m()(n,t),l()(n,[{key:"render",value:function(){return y.a.createElement(P.a,i()({},this.props,{type:e,className:"select-underline"}))}}]),n}(y.a.PureComponent)}(O.currency.path),A=function(e){function t(e){c()(this,t);var a=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.fetchSow=function(){n.i(C.b)(a.props.params.id).then(function(e){var t,n=(t={},r()(t,T.a.rmb,e.currencys.find(function(e){return e.id===T.a.rmb}).currencyDetails[0]),r()(t,T.a.usd,e.currencys.find(function(e){return e.id===T.a.usd}).currencyDetails[0]),t);a.setState({rate:n,sow:e.sow})})},a.transformCurrency=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.state.sow.currencyId,r=a.state.rate;if(console.log(e,t,T.g[t]),n===t||void 0===e)return e;var o=T.g[t];return e/r[n][o]},a.add=function(){D++;var e=a.props.form,t=e.getFieldValue("keys"),n=t.concat(D);e.setFieldsValue({keys:n})},a.remove=function(e){var t=a.props.form,n=t.getFieldValue("keys");t.setFieldsValue({keys:n.filter(function(t){return t!==e})})},a.onSubmit=function(){a.props.form.validateFields(function(e,t){e||(console.log("onSubmit params=",t),n.i(C.r)({clientPos:t.values},a.props.params.id).then(function(e){e.error?v.message.error(e.error.message):g.browserHistory.push("/"+R.a.sow.path+"/"+a.props.params.id)}))})},a.normFile=function(e){return console.log("Upload event:",e),e&&e.file.response&&e.file.response.obj},a.onTypeChange=function(e){return function(t){var n=a.state.sow,r=a.props.form,o=r.getFieldValue,i=r.resetFields,s=r.setFieldsValue,c=[],u={},l=o("values");console.log("onTypeChange values===",l),j.forEach(function(r){t.indexOf(r.value)<0?c.push("values["+e+"]."+r.value):void 0===l[e][r.value]&&(u["values["+e+"]."+r.value]=a.transformCurrency(n[r.value],l[e].currencyId,n.currencyId))}),s(u),i(c)}},a.onCurrencyChange=function(e){return function(t){var n=a.props.form,r=n.getFieldValue,o=n.setFieldsValue,i=r("values"),s=i[e].currencyId,c={};j.forEach(function(n){var r="values["+e+"]."+n.value;c[r]=a.transformCurrency(i[e][n.value],t,s)}),o(c)}},a.checkTypeValue=function(e,t){return function(n,r,o){if(void 0===r)return o();var i=a.state.sow,s=a.props.form.getFieldValue("values"),c=s[t].currencyId,u=parseFloat(a.transformCurrency(a.props.adjustMoneyUSD,c,T.a.usd)),l=parseFloat(a.transformCurrency(i[e],c)),d=l-u>0?l-u:0,p=l+u;if(parseFloat(r)>=d&&parseFloat(r)<=p)return void o();o("Must between "+x.b.money(d)+" and "+x.b.money(p))}},a.getTotalValue=function(e){var t=a.props.form.getFieldValue("values");return j.reduce(function(n,a){var r=t[e]&&t[e][a.value];return isNaN(r)?n:n+r},0)},a.state={sow:{}},a}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchSow()}},{key:"render",value:function(){var e=this,t=this.state.sow,n=this.props.form,a=n.getFieldDecorator,o=n.getFieldValue,s=r()({},t.id,t.name),c=y.a.createElement(S.a,{location:location,title:s});a("keys",{initialValue:[0]});var u=o("keys"),l=o("type")||[],d=o("values")||{};console.log("values==",d);var p=u.map(function(n){var r=function(e){return!(l[n]&&l[n].indexOf(e)>-1)},o=j.map(function(t){return y.a.createElement(F,i()({label:t.label},M,{key:t.value}),a("values["+n+"]."+t.value,{rules:[{validator:e.checkTypeValue(t.value,n)}]})(y.a.createElement(k.b,{disabled:r(t.value)})))});return y.a.createElement("div",{key:n,className:"po-form-row"},y.a.createElement(v.Icon,{type:"close",className:"close-item",onClick:function(){return e.remove(n)}}),y.a.createElement(F,{label:y.a.createElement("span",null,"Type ",y.a.createElement(v.Tooltip,{title:"选中会开启其它表单"},y.a.createElement(v.Icon,{type:"question-circle-o"}))),style:{width:900,display:"block"},labelCol:{span:3},wrapperCol:{span:21}},a("type["+n+"]")(y.a.createElement(N,{options:j,onChange:e.onTypeChange(n)}))),y.a.createElement(F,i()({label:"PO"},M),a("values["+n+"].name",{rules:[{type:"string",message:"Missing PO",required:!0}]})(y.a.createElement(v.Input,{className:"input-underline"}))),y.a.createElement(F,i()({label:"Currency"},M),a("values["+n+"].currencyId",{initialValue:t.currencyId})(y.a.createElement(L,{onChange:e.onCurrencyChange(n)}))),y.a.createElement(F,i()({label:"Upload File"},M),a("values["+n+"].filePath",{getValueFromEvent:e.normFile,rules:[{type:"string",message:"Missing File",required:!0}]})(y.a.createElement(v.Upload,{className:"sow-po-upload",action:"/api/uploadFile",data:{type:"clientPo"}},y.a.createElement(v.Button,null,y.a.createElement(v.Icon,{type:"upload"}),"upload")))),o,y.a.createElement(F,i()({label:"Total"},M),a("values["+n+"].total",{initialValue:e.getTotalValue(n)})(y.a.createElement(k.b,{disabled:!0}))))});return console.log("录入po props",this.props),y.a.createElement(S.b,{header:c},y.a.createElement(v.Form,{className:"po-form",style:{marginLeft:20},layout:"inline",onSubmit:this.onSubmit},p,y.a.createElement("div",{className:"form-action"},y.a.createElement(v.Button,{onClick:this.onSubmit,type:"primary",disabled:u.length<1},"Submit"),y.a.createElement(v.Button,{onClick:this.add},"add"),y.a.createElement(v.Alert,{style:{marginTop:20,marginRight:40},message:"温馨提示:",description:"勾选 Type 后会启用对应栏目，每个栏目的浮动值不能超过默认值 "+x.b.money(this.props.adjustMoneyUSD)+" 美元",type:"info"}))))}}]),t}(y.a.PureComponent);A.propTypes={$transitions:E.a.list},t.a=v.Form.create()(A)},742:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(0),r=n.n(a),o=n(12),i=function(e){var t=e.title,n=e.onConfirm,a=e.type,i=e.disabled;return r.a.createElement("span",{className:"item"},r.a.createElement(o.Popconfirm,{title:"Are you sure？",okText:"Yes",cancelText:"No",onConfirm:n},r.a.createElement(o.Button,{size:"small",type:a,disabled:i},t)))}},743:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(6),i=n.n(o),s=n(5),c=n.n(s),u=n(4),l=n.n(u),d=n(0),p=n.n(d),f=n(12),m=n(1),h=n.n(m),y=n(20),g=n(51),v=n(86),b=n(71),I=n(44),E=n(34),w=n.n(E),S=n(72),C=n(33),x=new y.a(b.d.map(function(e){return{dataIndex:e.dataIndex}})),T=new y.a(b.e),P=n.i(S.a)("dataIndex")(T.table.filter(function(e){return"money"===e.type}));console.log("formMoneyFields=",P);var k=function(e){function t(){var e,a,o,i;r()(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return a=o=c()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={visible:!1,dataSource:[]},o.fetchData=function(){return n.i(I.e)({sowId:o.props.id}).then(function(e){e.error?f.message.error(e.error.message):o.setState({dataSource:e})})},o.onEdit=function(){o.fetchData(),o.setState({visible:!0})},o.onCancel=function(){return o.setState({visible:!1})},o.onSave=function(e,t){var a=o.props.adjustMoney[e.currencyId],r=o.state.dataSource[t],i=Object.keys(P).reduce(function(t,n){return r[n]!==e[n]&&Math.abs(r[n]-e[n])>a&&t.push({title:P[n].title,min:r[n]-a<0?0:r[n]-a,max:r[n]+a}),t},[]);if(console.log(" errorList=",i),console.log(" adjustMoney=",a),console.log(" params=",e),console.log(" oldParams=",r),i.length>0){var s=p.a.createElement("table",{className:"popover-table"},p.a.createElement("tbody",null,i.map(function(e,t){return p.a.createElement("tr",{key:"errorList"+t,style:{textAlign:"right"}},p.a.createElement("td",null,e.title," must be :"),p.a.createElement("td",null,C.b.money(e.min),"-",C.b.money(e.max)))})));return new Promise(function(e){return e({error:{message:s}})})}return n.i(I.f)({clientPos:[e]})},i=a,c()(o,i)}return l()(t,e),i()(t,[{key:"render",value:function(){var e=this.state,t=e.visible,n=e.dataSource,a=this.props.$sow;return p.a.createElement("a",{onClick:this.onEdit},"查看PO",p.a.createElement(f.Modal,{visible:t,maskClosable:!1,footer:p.a.createElement(f.Button,{onClick:this.onCancel},"Close"),onCancel:this.onCancel,title:"查看PO  (Currency:"+a.get("currencyId")+")",width:1050},p.a.createElement(g.b,{columns:x.table,dataSource:[a]}),p.a.createElement("h4",{style:{marginTop:35,paddingTop:35,paddingBottom:10,borderTop:"#ccc dashed 1px"}},"PO Files"),p.a.createElement(v.a,{initial:null,columns:T.table,dataSource:n,onSave:this.onSave})))}}]),t}(p.a.PureComponent);k.propTypes={$sow:w.a.map,adjustMoney:h.a.object.isRequired},t.a=k},744:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(9),i=n.n(o),s=n(3),c=n.n(s),u=n(6),l=n.n(u),d=n(5),p=n.n(d),f=n(4),m=n.n(f),h=n(0),y=n.n(h),g=n(12),v=n(1),b=n.n(v),I=n(34),E=n.n(I),w=n(26),S=n.n(w),C=n(56),x=n(51),T=n(71),P=n(44),k=n(20),R=n(30),_=n(33),O=n(47),F=n(738),N=n(735),D=n(739),j=n(7),M=n.n(j),L=n(901),A=(n.n(L),g.Collapse.Panel),$=g.Select.Option,H=new k.a(T.h),V=new k.a(T.i),q=new k.a(T.j),B=new k.a(T.k),U=new k.a(T.l),Y=parseInt(M()().format("YYYY"))+1,z=S.a.Map({year:Y,version:"000"}),G=function(e){function t(e){c()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onYearChange=function(e){return n.props.fetchAllSow({year:e})},n.onCurrencyChange=function(e){return n.setState({currency:e})},n.onSwitchChange=function(e){return function(t){return n.setState(i()({},e,t))}},n.onInputChange=function(e){return n.setState({searchText:e.target.value})},n.onSearch=function(){var e=n.state.searchText;n.setState({filterDropdownVisible:!1,filtered:!!e,$sow:n.props.$sow.update(R.f.soldSows,function(t){return t.filter(function(t){return new RegExp(e,"gi").test(t.get("name"))})})})},n.createCancel=function(){return n.setState({isCreate:!1})},n.onCreate=function(){return n.setState({isCreate:!0})},n.onCreateSave=function(e){var t=e.year,a=e.clientId;if(!new RegExp("^"+t+" "+a).test(e.name))return g.message.error("Name must start with "+t+" "+a);n.setState({createLoading:!0}),n.props.createSow(e).then(function(e){n.setState({createLoading:!1}),e.error||(n.createSowKey=+new Date,n.setState({isCreate:!1}))})},n.createOk=function(){return n.createForm&&n.createForm.onSave()},n.onCreateValuesChange=function(e){if(n.createForm){var t=["year","clientId"],a=Object.keys(e)[0];if(t.indexOf(a)>-1){var r=Object.assign({},n.createForm.form.getFieldsValue(),e);t.every(function(e){return r[e]})&&n.createForm.form.setFieldsValue({name:r.year+" "+r.clientId})}}},n.onSelectChange=function(e){return n.setState({selectedRowKeys:e})},n.tableOnchange=function(e,t,a){console.log("Various parameters",e,t,a),n.setState({filteredInfo:t})},n.onClearFilter=function(){return n.setState({filteredInfo:{},searchText:""},n.onSearch)},n.state={$sow:e.$sow,hasIssue:!1,hasHistory:!1,hasPass:!0,hasLevel:!1,currency:"USD",filterDropdownVisible:!1,searchText:"",filtered:!1,isCreate:!1,createLoading:!1,selectedRowKeys:[]},n}return m()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.$sow!==e.$sow&&this.setState({$sow:e.$sow})}},{key:"componentDidMount",value:function(){this.props.fetchAllSow()}},{key:"render",value:function(){var e=this,t=this.state,a=t.$sow,o=t.hasIssue,s=t.hasHistory,c=t.hasPass,u=t.hasLevel,l=t.currency,d=t.isCreate,p=t.createLoading,f=t.selectedRowKeys,m=t.filteredInfo,h=void 0===m?{}:m,v=this.props,b=v.location,I=v.editPassThrough,E=a.get(R.f.soldSows),w=a.get(R.f.specialSows);!s&&E&&(E=E.filter(function(e){return e.get("flowStatus")!==R.b.disabled})),o&&E&&(E=E.filter(function(e){return e.get("flowStatus")===R.b.toSubmit}));var S={},T={};E&&E.forEach(function(e){S[e.get("clientId")]=e.get("clientId"),T[e.get("flowStatus")]=e.get("flowStatus")}),H.updateTable({name:{filterIcon:y.a.createElement(g.Icon,{type:"search",style:{color:this.state.filtered?"#108ee9":"#aaa"}}),filterDropdown:y.a.createElement("div",{className:"custom-filter-dropdown"},y.a.createElement(g.Input,{style:{width:120},ref:function(t){return e.searchInput=t},placeholder:"Search",value:this.state.searchText,onChange:this.onInputChange,onPressEnter:this.onSearch}),y.a.createElement(g.Button,{type:"primary",size:"small",onClick:this.onSearch},"Search")),filterDropdownVisible:this.state.filterDropdownVisible,onFilterDropdownVisibleChange:function(t){e.setState({filterDropdownVisible:t},function(){return e.searchInput.focus()})}},clientId:{filters:Object.keys(S).map(function(e){return{text:e,value:e}}),filteredValue:h.clientId||null,onFilter:function(e,t){return t.includes(e)}},flowStatus:{filters:Object.keys(T).map(function(e){return{text:e,value:e}}),filteredValue:h.flowStatus||null,onFilter:function(e,t){return t.includes(e)}}}),B.updateTable();var k=B.table,j=H.table;c&&(V.updateTable({editPass:{render:function(e,t){return y.a.createElement(D.a,{onSave:I,$initialValue:t})}}}),j=j.concat(V.table)),u&&(q.updateTable(),j=j.concat(q.table),k=k.concat(q.table));var M=function(){var e,t,n=(e={},i()(e,R.a.rmb,R.a.fordRateToRMB),i()(e,R.a.usd,R.a.fordRateToUSD),e),r=function(e){return a.getIn(["currencys",e,"currencyDetails",0,n[l]])};return t={},i()(t,R.a.rmb,r(R.a.rmb)),i()(t,R.a.usd,r(R.a.usd)),t}(),L=n.i(P.d)({targetCurrency:l,$dataSource:E,rate:M,columns:j});L.dataSource&&(L.dataSource=L.dataSource.sortBy(function(e){return e.get("name")}));var G=n.i(P.d)({rate:M,targetCurrency:l,columns:k,$dataSource:w});console.log("selectedRowKeys",f);var W=void 0;return a.get(R.f.soldSows)&&void 0!==f[0]&&(W=a.get(R.f.soldSows).toArray()[f[0]]),y.a.createElement(C.b,{autoHeight:!1,header:y.a.createElement(C.a,{extra:y.a.createElement("div",null,y.a.createElement(g.Button,{type:"primary",size:"large",onClick:this.onCreate},"Create"),y.a.createElement(N.a,{target:W,copyCommitSow:this.props.copyCommitSow})),location:b})},y.a.createElement("div",{className:"flex-box"},y.a.createElement("div",{className:"flex-header sow-header"},y.a.createElement("span",{className:"item"},"Year: ",y.a.createElement(O.a,{defaultValue:Y,onChange:this.onYearChange})),y.a.createElement("span",{className:"item"}," Set Currency: ",y.a.createElement(g.Select,{value:l,onChange:this.onCurrencyChange,style:{width:80}},y.a.createElement($,{value:"RMB"},"RMB"),y.a.createElement($,{value:"USD"},"USD"),y.a.createElement($,{value:"LOCAL"},"LOCAL"))),y.a.createElement("span",{className:"item"},"My Issue:",y.a.createElement(g.Switch,{onChange:this.onSwitchChange("hasIssue"),checked:o})),y.a.createElement("span",{className:"item"},"历史版本:",y.a.createElement(g.Switch,{onChange:this.onSwitchChange("hasHistory"),checked:s})),y.a.createElement("span",{className:"item"},"Pass Through:",y.a.createElement(g.Switch,{onChange:this.onSwitchChange("hasPass"),checked:c})),y.a.createElement("span",{className:"item"},"Level:",y.a.createElement(g.Switch,{onChange:this.onSwitchChange("hasLevel"),checked:u})),y.a.createElement("span",{className:"item"},y.a.createElement(g.Popover,{content:y.a.createElement("table",{className:"popover-table"},y.a.createElement("tbody",null,a.get(R.f.sowLevel)&&a.get(R.f.sowLevel).map(function(e,t){if("id"!==t)return t.indexOf("Max")>-1&&(e=_.b.money(e)),y.a.createElement("tr",{key:t},y.a.createElement("td",{className:"title"},t),y.a.createElement("td",{className:"amount"},e))}).valueSeq()))},y.a.createElement("span",{className:"has-popover"},"Level 金额"))),y.a.createElement("span",{className:"item"},y.a.createElement(g.Button,{size:"small",onClick:this.onClearFilter},"Clear filters"))),y.a.createElement("div",{className:"flex-content"},y.a.createElement(x.a,r()({titleHeight:110,rowClassName:function(e){return"row-"+e.get("flowStatus")},className:"table-data",rowSelection:{type:"radio",selectedRowKeys:f,onChange:this.onSelectChange},onChange:this.tableOnchange},L)),y.a.createElement(g.Collapse,{bordered:!1,className:"bottom-panel"},y.a.createElement(A,{header:"Non-Chargeable SOW",className:"bottom-panel-item"},y.a.createElement(x.b,r()({className:"table-data"},G)))),y.a.createElement(g.Modal,{title:"Create Sow",visible:d,width:880,confirmLoading:p,onOk:this.createOk,onCancel:this.createCancel},y.a.createElement(F.a,{onValuesChange:this.onCreateValuesChange,columns:U.form,ref:function(t){return e.createForm=t},onSave:this.onCreateSave,$initialValue:z,key:"Create Sow "+this.createSowKey})))))}}]),t}(y.a.PureComponent);G.propTypes={$sow:E.a.map.isRequired,setTitle:b.a.func},t.a=G},745:function(e,t,n){"use strict";var a=n(9),r=n.n(a),o=n(24),i=n.n(o),s=n(3),c=n.n(s),u=n(6),l=n.n(u),d=n(5),p=n.n(d),f=n(4),m=n.n(f),h=n(0),y=n.n(h),g=n(12),v=n(34),b=n.n(v),I=n(1),E=n.n(I),w=n(13),S=n(56),C=n(44),x=n(71),T=n(293),P=n(51),k=n(47),R=n(33),_=n(30),O=n(26),F=n.n(O),N=n(7),D=n.n(N),j=n(20),M=n(14),L=n(902),A=(n.n(L),g.DatePicker.RangePicker),$=["annualSalary","annualCola","bonus","directComp","benefits","directLabor","overhead","markup","net","tax","gross","budgetIncentive"],H=["net","tax","gross","budgetIncentive","officeId"],V=["id","sowId","FTE","net","tax","gross","incentive","grandTotal"],q=["FTE","net","tax","gross","incentive","grandTotal"],B=new j.a(x.g),U=function(e){function t(e){c()(this,t);var a=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.fetchSow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.params.id;n.i(C.b)(e).then(function(e){var t=e.sow;if(t.flowStatus===_.b.disabled)var n=g.Modal.error({title:"Wrong page",content:"This sow status is "+t.flowStatus+",The page will jump out.",onOk:function(){n.destroy(),w.browserHistory.push("/"+M.a.sow.path+"/"+t.id)}});a.setState({sow:e.sow},a.mergeDefaultPosition)})},a.fetchPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.params.positionId;n.i(C.i)(e).then(function(e){if(!e.error){var t=e.obj,n=t.sowPositions,r=i()(t,["sowPositions"]);r.validDate=D()(r.validDate),r.invalidDate=D()(r.invalidDate);var o=$.reduce(function(e,t){return e[t]=r[t],e},{}),s={};for(var c in T.a)s[c]=r[c];a.setState({$sowPositions:F.a.fromJS(n),$position:F.a.Map(r)},a.mergeDefaultPosition),a.form.setFieldsValue(Object.assign({},s,{budget:o}))}})},a.mergeDefaultPosition=function(){var e=a.state,t=e.sow,n=e.$position;if(t.id===a.props.params.id&&t.sowType!==_.c.letGo){var r=a.mergeCurrentSowPosition();a.props.coreCompany===n.get("companyId")&&(r=a.mergeInHousePosition(r)),a.setState({$sowPositions:r})}},a.mergeCurrentSowPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.state.$sowPositions,t=a.state.sow;if(!e.some(function(e){return e.get("sowId")===a.props.params.id})&&t.year){var n=["name","version","clientId","sowType"],r=n.reduce(function(e,n){return e[n]=t[n],e},{}),o=q.reduce(function(e,t){return e[t]=0,e},{});return e.push(F.a.fromJS(Object.assign({sow:r},o,{sowId:t.id})))}return e},a.mergeInHousePosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.state.$sowPositions,t=e.some(function(e){return e.getIn(["sow","sowType"])===_.c.inHouse}),n=a.props.$sow.get(_.f.specialSows),r=a.state.sow.year;if(!t&&r&&n){var o=n.find(function(e){return e.get("sowType")===_.c.inHouse&&e.get("year")===r}),i=["name","version","clientId","sowType"],s=i.reduce(function(e,t){return e[t]=o.get(t),e},{}),c=q.reduce(function(e,t){return e[t]=0,e},{});return e.push(F.a.fromJS(Object.assign({sow:s},c,{sowId:o.get("id")})))}return e},a.onDataChange=function(e){var t=a.state,r=t.sow,o=t.$position,i=t.$sowPositions,s={};if(e[0]&&e[1]){var c=Math.abs(e[0].diff(e[1],"day")),u=D()([r.year]).isLeapYear()?366:365;o=o.set("FTE",n.i(R.a)(c/u))}o=o.merge({validDate:e[0],invalidDate:e[1]}),s.$position=o,a.resetInHouseFte(o);var l=a.props.params.id===i.getIn([0,"sowId"]),d=i.getIn([0,"sow","sowType"])!==_.c.inHouse;1===i.size&&l&&d&&(s.$sowPositions=i.setIn([0,"FTE"],o.get("FTE")),a.getFte(i.getIn([0,"sow","clientId"]),o.get("FTE"))),a.setState(s)},a.resetInHouseFte=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.state.$position,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.state.$sowPositions,r=e.get("FTE"),o=t.reduce(function(e,t){return n.i(R.a)(e+t.get("FTE"))},0),i=t.find(function(e){return e.getIn(["sow","sowType"])==_.c.inHouse});if(i){var s=i.getIn(["sow","clientId"]);if(r>o){var c=n.i(R.a)(r-o+i.get("FTE"));a.getFte(s,c)}else if(r<o){if(0==i.get("FTE"))return;var u=n.i(R.a)(i.get("FTE")-o+r);u=u<0?0:u,a.getFte(s,u)}}},a.getFte=function(e,t){var r=H.reduce(function(e,t){return e[t]=a.state.$position.get(t),e},{clientId:e,FTE:t});n.i(C.j)(r).then(function(t){if(!t.error){var n=a.state.$sowPositions,r=void 0;a.setState({$sowPositions:n.map(function(n){var a=n.getIn(["sow","clientId"]);return n.getIn(["sow","sowType"])===_.c.inHouse&&(r=a),a===e?n.merge(t.obj):n})},function(){e!==r&&a.resetInHouseFte()})}})},a.onFteChange=function(e){return function(t){var r=a.state,o=r.$position,i=r.$sowPositions,s=o.get("FTE"),c=0;if(n.i(R.a)(i.reduce(function(n,a){return a.getIn(["sow","sowType"])==_.c.inHouse&&(c=a.get("FTE")),a.getIn(["sow","clientId"])===e?n+t:n+parseFloat(a.get("FTE"))},0))>s&&c<=0)return g.message.error("Over MAX FTE,Please check.");a.getFte(e,t)}},a.getPositionValue=function(){var e=a.state,t=e.$position,r=e.$sowPositions,o=e.sow;if(!r.some(function(e){return e.get("sowId")===o.id}))return g.message.error("当前 Sow:"+o.name+" 不能编辑 Position:"+t.get("name")),null;if(t.get("FTE")!==r.reduce(function(e,t){return n.i(R.a)(e+t.get("FTE"))},0))return g.message.error("MAX FTE must be equal to the total FTE"),null;var i={positionId:t.get("id"),validDate:t.get("validDate").format("YYYY-MM-DD"),invalidDate:t.get("invalidDate").format("YYYY-MM-DD"),FTE:t.get("FTE")},s=r.filter(function(e){return e.get("FTE")>0||e.get("id")}).reduce(function(e,t){var n=V.reduce(function(e,n){return e[n]=t.get(n),e},{});return e.push(n),e},[]);return Object.assign({},i,{sowPositions:s})},a.onPositionSave=function(){var e=a.getPositionValue();null!==e&&n.i(C.k)(e).then(function(e){e.error?g.message.error(e.error.message):w.browserHistory.push("/"+M.a.sow.path+"/"+a.props.params.id)})},a.onLetGoInHousePosition=function(e){return function(){var t=a.getPositionValue();if(null!==t){var r=t.sowPositions,o=i()(t,["sowPositions"]),s=a.props.$sow.get(_.f.specialSows),c=a.state.sow.year,u=s&&s.find(function(t){return t.get("sowType")===e&&t.get("year")===c}),l=u&&u.get("id"),d=Object.assign({},r[0],{sowId:l});delete d.id;var p=q.reduce(function(e,t){return e[t]=0,e},Object.assign({},r[0]));n.i(C.k)(Object.assign({},o,{sowPositions:[d,p]})).then(function(e){e.error?g.message.error(e.error.message):(a.fetchPosition(),g.message.success("Save success"))})}}},a.state={visible:!1,sow:{},$position:F.a.Map(),$sowPositions:F.a.List()},a}return m()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.params,n=t.id,a=t.positionId;this.props.params.id!==n&&(this.fetchSow(n),this.fetchPosition(a))}},{key:"componentDidMount",value:function(){var e=this;this.fetchSow(),this.fetchPosition(),this.props.$sow.size<1&&this.props.fetchAllSow().then(function(t){return e.mergeDefaultPosition()})}},{key:"render",value:function(){var e,t=this,a=this.state,o=a.sow,i=a.$position,s=a.$sowPositions,c=this.props.$setting;console.log("当前 $position",i.toJS()),console.log("$sowPositions",s.toJS()),console.log("当前 sow的值",o);var u=(e={},r()(e,o.id,o.name),r()(e,i.get("id"),i.get("name")),e),l=y.a.createElement(S.a,{location:location,title:u});B.updateTable({FTE:{render:function(e,n){var a=t.props.params.id===n.get("sowId"),r=n.getIn(["sow","sowType"])===_.c.inHouse,o=n.getIn(["sow","sowType"])===_.c.letGo;if(a)return r||o||1===s.size?n.get("FTE"):y.a.createElement(k.d,{max:1,value:n.get("FTE"),onChange:t.onFteChange(n.getIn(["sow","clientId"]))});var c="/"+M.a.sow.path+"/"+n.get("sowId")+"/"+i.get("id");return y.a.createElement(g.Popconfirm,{title:"去 "+n.getIn(["sow","name"])+" 的 "+i.get("name"),okText:"Yes",cancelText:"No",onConfirm:function(){return w.browserHistory.push(c)}},y.a.createElement("a",null,n.get("FTE")))}},name:{render:function(e,n){return y.a.createElement(w.Link,{to:"/"+M.a.sow.path+"/"+n.get("sowId"),className:t.props.params.id===n.get("sowId")?"highlight":""},n.getIn(["sow","name"]))}}});var d=n.i(C.d)({columns:B.table,$dataSource:s}),p=o.sowType===_.c.inHouse,f=o.sowType===_.c.letGo,m=!0,h=!0;return p&&1==s.size&&s.getIn([0,"sowId"])===this.props.params.id&&s.getIn([0,"sow","sowType"])===_.c.inHouse&&(m=!1),f&&1==s.size&&s.getIn([0,"sowId"])===this.props.params.id&&s.getIn([0,"sow","sowType"])===_.c.letGo&&(h=!1),y.a.createElement(S.b,{header:l},y.a.createElement(T.b,{params:this.props.params,sow:o,$setting:c,isUpdate:!0,wrappedComponentRef:function(e){return t.form=e.props.form}}),y.a.createElement("div",{className:"form-action",style:{margin:"0 40px 0 20px",border:0}},y.a.createElement("h3",{className:"form-bar-title"},"Position For SOW"),y.a.createElement("div",{className:"form-bar-item"},y.a.createElement("span",{className:"label"},"生效时间:"),y.a.createElement(A,{onChange:this.onDataChange,value:[i.get("validDate"),i.get("invalidDate")],size:"large"})),y.a.createElement("div",{className:"form-bar-item"},y.a.createElement("span",{className:"label"}," MAX FTE:"),y.a.createElement(g.Input,{size:"large",value:i.get("FTE"),disabled:!0})),y.a.createElement(P.b,d),y.a.createElement("div",{className:"update-position-action"},y.a.createElement(g.Button,{type:"primary",size:"large",onClick:this.onPositionSave},"确认"),p&&y.a.createElement(g.Button,{size:"large",disabled:m,onClick:this.onLetGoInHousePosition(_.c.letGo)},"Let Go"),f&&y.a.createElement(g.Button,{size:"large",disabled:h,onClick:this.onLetGoInHousePosition(_.c.inHouse)},"In House"),y.a.createElement(g.Button,{size:"large",onClick:w.browserHistory.goBack},"Back"))))}}]),t}(y.a.PureComponent);U.propTypes={$setting:b.a.map.isRequired,coreCompany:E.a.string,$sow:b.a.map.isRequired},t.a=U},746:function(e,t,n){"use strict";var a=n(17),r=n(737),o=n(14),i=function(e){return{$setting:e[o.a.setting.path]}};t.a=n.i(a.connect)(i)(r.a)},747:function(e,t,n){"use strict";var a=n(17),r=n(741),o=function(e){return{adjustMoneyUSD:e.arguments.getIn(["cfg","adjustMoneyUSD"])}};t.a=n.i(a.connect)(o)(r.a)},748:function(e,t,n){"use strict";var a=n(17),r=n(744),o=n(44),i={fetchAllSow:o.h,createSow:o.s,copyCommitSow:o.t,editPassThrough:o.u},s=function(e){return{$sow:e.sow}};t.a=n.i(a.connect)(s,i)(r.a)},749:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(17)),o=n(740),i=function(e,t){return{$transitions:e.arguments.get("sowTransitions"),adjustMoneyUSD:e.arguments.getIn(["cfg","adjustMoneyUSD"])}};t.a=n.i(r.connect)(i)(o.a)},750:function(e,t,n){"use strict";var a=n(17),r=n(745),o=n(14),i=n(44),s={fetchAllSow:i.h},c=function(e){return{coreCompany:e.arguments.getIn(["cfg","coreCompany"]),$setting:e[o.a.setting.path],$sow:e[o.a.sow.path]}};t.a=n.i(a.connect)(c,s)(r.a)},751:function(e,t,n){"use strict";var a=n(748),r=n(749),o=n(747),i=n(746),s=n(750),c=n(44),u=n(132);t.a=function(e){return{path:"sow",onEnter:function(){n.i(u.a)(e,{key:"sow",reducer:c.a})},indexRoute:{component:a.a},childRoutes:[{path:":id/entry-po",component:o.a},{path:":id/create",component:i.a},{path:":id/:positionId",component:s.a},{path:":id",component:r.a,childRoutes:[]}]}}},752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"createRoutes",function(){return d});var a=n(0),r=(n.n(a),n(699)),o=n(702),i=n(700),s=n(705),c=n(693),u=n(751),l=n(733),d=function(e){return{path:"/",indexRoute:{onEnter:function(e,t){t("/home")}},childRoutes:[n.i(s.a)(e),{component:n.i(c.a)(r.a),childRoutes:[{path:"home",indexRoute:o.a},l.a,n.i(i.a)(e),n.i(u.a)(e)]}]}};t.default=d},753:function(e,t,n){"use strict";var a=n(123),r=n(256),o=n.n(r),i=n(13),s=n(132),c=n(295),u=n(754),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[o.a,u.a],r=[],l=a.compose,d=n.i(a.createStore)(n.i(s.b)(),e,l.apply(void 0,[a.applyMiddleware.apply(void 0,t)].concat(r)));return d.asyncReducers={},d.unsubscribeHistory=i.browserHistory.listen(n.i(c.b)(d)),d};t.a=l},754:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(12),r=function(e){return function(e){return function(t){return"FETCH_ERROR"===t.type&&(a.message.error(t.error.message),console.log("error action",t)),e(t)}}}},81:function(e,t,n){"use strict";function a(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function r(e,t,n){Array.isArray(e)||i("1",n,e);var a=t[n];Array.isArray(a)||i("2",n,a)}function o(e,t){if("object"!=typeof t&&i("3",h.join(", "),p),c.call(t,p))return 1!==Object.keys(t).length&&i("4",p),t[p];var n=a(e);if(c.call(t,f)){var g=t[f];g&&"object"==typeof g||i("5",f,g),n&&"object"==typeof n||i("6",f,n),s(n,t[f])}c.call(t,u)&&(r(e,t,u),t[u].forEach(function(e){n.push(e)})),c.call(t,l)&&(r(e,t,l),t[l].forEach(function(e){n.unshift(e)})),c.call(t,d)&&(Array.isArray(e)||i("7",d,e),Array.isArray(t[d])||i("8",d,t[d]),t[d].forEach(function(e){Array.isArray(e)||i("8",d,t[d]),n.splice.apply(n,e)})),c.call(t,m)&&("function"!=typeof t[m]&&i("9",m,t[m]),n=t[m](n));for(var v in t)y.hasOwnProperty(v)&&y[v]||(n[v]=o(e[v],t[v]));return n}var i=n(100),s=n(16),c=(n(10),{}.hasOwnProperty),u="$push",l="$unshift",d="$splice",p="$set",f="$merge",m="$apply",h=[u,l,d,p,f,m],y={};h.forEach(function(e){y[e]=!0}),e.exports=o},86:function(e,t,n){"use strict";var a=n(9),r=n.n(a),o=n(3),i=n.n(o),s=n(6),c=n.n(s),u=n(5),l=n.n(u),d=n(4),p=n.n(d),f=n(0),m=n.n(f),h=n(81),y=n.n(h),g=n(1),v=n.n(g),b=n(12),I=n(51),E=n(33),w=n(895),S=(n.n(w),function(e){function t(e){i()(this,t);var n=l()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.formatColumns=function(e){n.columns=e.map(function(e){return e.hasRender||(e.render=function(t,a,r){return n.renderColumns(t,a,r,e)}),e}).concat(n.operation)},n.onAdd=function(){n.setState(function(e){var t=e.dataSource.concat(n.props.initial);return{dataSource:t,editIndex:t.length-1}})},n.state={editIndex:-1,dataSource:e.dataSource,editConfirmVisible:!1,addConfirmVisible:!1},n.values=null,n.operation={title:"operation",width:100,fixed:"right",dataIndex:"operation",render:function(e,t,a){var r=n.state.editIndex===a;return m.a.createElement("div",{className:"editable-row-operations"},r?m.a.createElement("span",null,m.a.createElement("a",{onClick:function(){return n.editDone(a,"save")}},"Save"),m.a.createElement(b.Popconfirm,{title:"Sure to cancel?",onConfirm:function(){return n.editDone(a,"cancel")}},m.a.createElement("a",null,"Cancel"))):m.a.createElement("span",null,m.a.createElement(b.Popconfirm,{visible:n.state.editConfirmVisible,onVisibleChange:function(e){if(!e)return n.setState({editConfirmVisible:e});n.values&&n.state.editIndex>-1?n.setState({editConfirmVisible:e}):n.edit(a)},title:"Sure to discard unsaved changes?",onConfirm:function(){return n.edit(a)}},m.a.createElement("a",null,"Edit"))))}},n}return p()(t,e),c()(t,[{key:"componentWillMount",value:function(){this.formatColumns(this.props.columns)}},{key:"componentWillReceiveProps",value:function(e){this.props.dataSource!==e.dataSource&&this.setState({dataSource:e.dataSource}),this.props.columns!==e.columns&&this.formatColumns(e.columns)}},{key:"renderColumns",value:function(e,t,n,a){var r=this,o=this.state.editIndex,i=e;if(a.type&&E.b[a.type]&&(i=E.b[a.type](i)),o!==n)return i;var s=!1;if(a.disabled&&(s="function"!=typeof a.disabled||a.disabled(t,n)),s||!a.Component)return i;var c=a.Component;return m.a.createElement(c,{defaultValue:e,disabled:s,onChange:function(e){return r.handleChange(e,t,n,a)}})}},{key:"handleChange",value:function(e,t,n,a){var o=this.values||t;this.values=Object.assign({},o,r()({},a.dataIndex,e)),console.log("save Value",this.values)}},{key:"edit",value:function(e){this.values=null,this.setState({editIndex:e})}},{key:"editDone",value:function(e,t){var n=this;"cancel"===t?this.state.dataSource[e]&&this.state.dataSource[e].id?this.setState({editIndex:-1}):this.setState(function(t){return{dataSource:y()(t.dataSource,{$splice:[[e,1]]}),editIndex:-1}}):"save"===t&&(this.values?this.props.onSave(this.values,e).then(function(e){e.error?b.message.error(e.error.message):n.setState({editIndex:-1})}):(b.message.warning("No changes to data",1),this.setState({editIndex:-1})))}},{key:"render",value:function(){var e=Object.assign({x:this.columns.reduce(function(e,t){return isNaN(t.width)?e:e+t.width},0)},this.props.scroll);return m.a.createElement("span",null,m.a.createElement(I.c,{dataSource:this.state.dataSource,scroll:e,columns:this.columns,size:"small",className:"table-form"}),this.props.initial&&m.a.createElement(b.Button,{icon:"plus",size:"small",onClick:this.onAdd,disabled:this.state.editIndex>-1}))}}]),t}(m.a.PureComponent));S.defalutProps={initial:{}},S.propTypes={onSave:v.a.func.isRequired},t.a=S},87:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(24),i=n.n(o),s=n(0),c=n.n(s),u=n(1),l=n.n(u),d=n(34),p=n.n(d),f=n(12),m=n(56),h=n(26),y=n.n(h),g=n(51),v=n(285),b=n.i(v.a)(g.a),I=function(e){var t=e.location,n=e.onCreate,a=i()(e,["location","onCreate"]);return c.a.createElement(m.b,{autoHeight:!1,header:c.a.createElement(m.a,{extra:c.a.createElement(f.Button,{type:"primary",size:"large",onClick:n},"Create"),location:t})},c.a.createElement(b,r()({className:"table-data"},a)))};I.defaultProps={dataSource:y.a.Map()},I.propTypes={searchColumns:l.a.array.isRequired,columns:l.a.array.isRequired,location:l.a.object.isRequired,onCreate:l.a.func.isRequired,dataSource:p.a.map},t.a=I},891:function(e,t){},892:function(e,t){},893:function(e,t){},894:function(e,t){},895:function(e,t){},896:function(e,t){},897:function(e,t){},898:function(e,t){},899:function(e,t){},900:function(e,t){},901:function(e,t){},902:function(e,t){},903:function(e,t){},950:function(e,t,n){"use strict";function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,p,f,m,h=e[l].replace(s,"%20"),y=h.indexOf(n);y>=0?(d=h.substr(0,y),p=h.substr(y+1)):(d=h,p=""),f=decodeURIComponent(d),m=decodeURIComponent(p),a(i,f)?r(i[f])?i[f].push(m):i[f]=[i[f],m]:i[f]=m}return i};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},951:function(e,t,n){"use strict";function a(e,t){if(e.map)return e.map(t);for(var n=[],a=0;a<e.length;a++)n.push(t(e[a],a));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?a(i(e),function(i){var s=encodeURIComponent(r(i))+n;return o(e[i])?a(e[i],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[i]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},952:function(e,t,n){"use strict";t.decode=t.parse=n(950),t.encode=t.stringify=n(951)},969:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"Select time",dateSelect:"Select date",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},e.exports=t.default}},[1317]);
//# sourceMappingURL=main.1b078967a954bbdd7d79.js.map